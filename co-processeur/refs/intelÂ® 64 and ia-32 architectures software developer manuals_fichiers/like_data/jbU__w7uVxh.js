/*!CK:2869188499!*//*1378829356,178138187*/

if (self.CavalryLogger) { CavalryLogger.start_js(["9wVVk"]); }

__d("TypeaheadFacepile",["DOM"],function(a,b,c,d,e,f){var g=b('DOM');function h(){}h.render=function(i){var j=[g.create('span',{className:'splitpic leftpic'},[g.create('img',{alt:'',src:i[0]})]),g.create('span',{className:'splitpic'+(i[2]?' toppic':'')},[g.create('img',{alt:'',src:i[1]})])];if(i[2])j.push(g.create('span',{className:'splitpic bottompic'},[g.create('img',{alt:'',src:i[2]})]));return g.create('span',{className:'splitpics clearfix'},j);};e.exports=h;});
__d("RequiredFormListener",["Event","Input"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Input');g.listen(document.documentElement,'submit',function(i){var j=i.getTarget().getElementsByTagName('*');for(var k=0;k<j.length;k++)if(j[k].getAttribute('required')&&h.isEmpty(j[k])){j[k].focus();return false;}},g.Priority.URGENT);});
__d("JSLogger",[],function(a,b,c,d,e,f){var g={MAX_HISTORY:500,counts:{},categories:{},seq:0,pageId:(Math.random()*2147483648|0).toString(36),forwarding:false};function h(l){if(l instanceof Error&&a.ErrorUtils)l=a.ErrorUtils.normalizeError(l);try{return JSON.stringify(l);}catch(m){return '{}';}}function i(l,event,m){if(!g.counts[l])g.counts[l]={};if(!g.counts[l][event])g.counts[l][event]=0;m=m==null?1:Number(m);g.counts[l][event]+=isFinite(m)?m:0;}g.logAction=function(event,l,m){if(this.type=='bump'){i(this.cat,event,l);}else if(this.type=='rate'){(l&&i(this.cat,event+'_n',m));i(this.cat,event+'_d',m);}else{var n={cat:this.cat,type:this.type,event:event,data:l!=null?h(l):null,date:Date.now(),seq:g.seq++};g.head=g.head?(g.head.next=n):(g.tail=n);while(g.head.seq-g.tail.seq>g.MAX_HISTORY)g.tail=g.tail.next;return n;}};function j(l){if(!g.categories[l]){g.categories[l]={};var m=function(n){var o={cat:l,type:n};g.categories[l][n]=function(){g.forwarding=false;var p=null;if(document.domain!='facebook.com')return;p=g.logAction;if(/^\/+(dialogs|plugins?)\//.test(location.pathname)){g.forwarding=false;}else try{p=a.top.require('JSLogger')._.logAction;g.forwarding=p!==g.logAction;}catch(q){}(p&&p.apply(o,arguments));};};m('debug');m('log');m('warn');m('error');m('bump');m('rate');}return g.categories[l];}function k(l,m){var n=[];for(var o=m||g.tail;o;o=o.next)if(!l||l(o)){var p={type:o.type,cat:o.cat,date:o.date,event:o.event,seq:o.seq};if(o.data)p.data=JSON.parse(o.data);n.push(p);}return n;}e.exports={_:g,DUMP_EVENT:'jslogger/dump',create:j,getEntries:k};});
__d("ARIA",["DOM","emptyFunction","ge"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('emptyFunction'),i=b('ge'),j,k,l=function(){j=i('ariaAssertiveAlert');if(!j){j=g.create('div',{id:'ariaAssertiveAlert',className:'accessible_elem','aria-live':'assertive'});g.appendContent(document.body,j);}k=i('ariaPoliteAlert');if(!k){k=j.cloneNode(false);k.setAttribute('id','ariaPoliteAlert');k.setAttribute('aria-live','polite');g.appendContent(document.body,k);}l=h;};function m(o,p){l();var q=p?j:k;g.setContent(q,o);}var n={owns:function(o,p){o.setAttribute('aria-owns',g.getID(p));},setPopup:function(o,p){var q=g.getID(p);o.setAttribute('aria-owns',q);o.setAttribute('aria-haspopup','true');if(o.tabIndex==-1)o.tabIndex=0;},announce:function(o){m(o,true);},notify:function(o){m(o);}};e.exports=n;});
__d("BrowserSupport",["DOM","UserAgent"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('UserAgent'),i={},j=['Webkit','Moz','O','ms'],k=document.createElement('div'),l=function(n){if(i[n]===undefined){var o=null;if(n in k.style){o=n;}else for(var p=0;p<j.length;p++){var q=j[p]+n.charAt(0).toUpperCase()+n.slice(1);if(q in k.style){o=q;break;}}i[n]=o;}return i[n];},m={hasCSSAnimations:function(){return !!l('animationName');},hasCSSTransforms:function(){return !!l('transform');},hasCSS3DTransforms:function(){return !!l('perspective');},hasCSSTransitions:function(){return !!l('transition');},hasPositionSticky:function(){if(i.sticky===undefined){k.style.cssText='position:-webkit-sticky;position:-moz-sticky;'+'position:-o-sticky;position:-ms-sticky;position:sticky;';i.sticky=/sticky/.test(k.style.position);}return i.sticky;},hasPointerEvents:function(){if(i.pointerEvents===undefined)if(!('pointerEvents' in k.style)){i.pointerEvents=false;}else{k.style.pointerEvents='auto';k.style.pointerEvents='x';g.appendContent(document.documentElement,k);i.pointerEvents=window.getComputedStyle&&getComputedStyle(k,'').pointerEvents==='auto';g.remove(k);}return i.pointerEvents;},hasFileAPI:function(){if(i.fileAPI===undefined)i.fileAPI=!(h.webkit()&&!h.chrome()&&h.windows())&&'FileList' in window&&'FormData' in window;return i.fileAPI;},hasBlobFactory:function(){if(i.blobFactory===undefined)i.blobFactory=!!a.blob;return i.blobFactory;},getTransitionEndEvent:function(){if(i.transitionEnd===undefined){var n={transition:'transitionend',WebkitTransition:'webkitTransitionEnd',MozTransition:'mozTransitionEnd',OTransition:'oTransitionEnd'},o=l('transition');i.transitionEnd=n[o]||null;}return i.transitionEnd;}};e.exports=m;});
__d("shield",[],function(a,b,c,d,e,f){function g(h,i){if(typeof h!='function')throw new TypeError();var j=Array.prototype.slice.call(arguments,2);return function(){return h.apply(i,j);};}e.exports=g;});
__d("Animation",["BrowserSupport","CSS","DataStore","DOM","Style","shield"],function(a,b,c,d,e,f){var g=b('BrowserSupport'),h=b('CSS'),i=b('DataStore'),j=b('DOM'),k=b('Style'),l=b('shield'),m,n=[],o;function p(ga){if(a==this){return new p(ga);}else{this.obj=ga;this._reset_state();this.queue=[];this.last_attr=null;}}function q(ga){if(g.hasCSS3DTransforms()){return t(ga);}else return s(ga);}function r(ga){return ga.toFixed(8);}function s(ga){ga=[ga[0],ga[4],ga[1],ga[5],ga[12],ga[13]];return 'matrix('+ga.map(r).join(',')+')';}function t(ga){return 'matrix3d('+ga.map(r).join(',')+')';}function u(ga,ha){if(!ga)ga=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var ia=[];for(var ja=0;ja<4;ja++)for(var ka=0;ka<4;ka++){var la=0;for(var ma=0;ma<4;ma++)la+=ga[ja*4+ma]*ha[ma*4+ka];ia[ja*4+ka]=la;}return ia;}var v=0;p.prototype._reset_state=function(){this.state={attrs:{},duration:500};};p.prototype.stop=function(){this._reset_state();this.queue=[];return this;};p.prototype._build_container=function(){if(this.container_div){this._refresh_container();return;}if(this.obj.firstChild&&this.obj.firstChild.__animation_refs){this.container_div=this.obj.firstChild;this.container_div.__animation_refs++;this._refresh_container();return;}var ga=document.createElement('div');ga.style.padding='0px';ga.style.margin='0px';ga.style.border='0px';ga.__animation_refs=1;var ha=this.obj.childNodes;while(ha.length)ga.appendChild(ha[0]);this.obj.appendChild(ga);this._orig_overflow=this.obj.style.overflow;this.obj.style.overflow='hidden';this.container_div=ga;this._refresh_container();};p.prototype._refresh_container=function(){this.container_div.style.height='auto';this.container_div.style.width='auto';this.container_div.style.height=this.container_div.offsetHeight+'px';this.container_div.style.width=this.container_div.offsetWidth+'px';};p.prototype._destroy_container=function(){if(!this.container_div)return;if(!--this.container_div.__animation_refs){var ga=this.container_div.childNodes;while(ga.length)this.obj.appendChild(ga[0]);this.obj.removeChild(this.container_div);}this.container_div=null;this.obj.style.overflow=this._orig_overflow;};var w=1,x=2,y=3;p.prototype._attr=function(ga,ha,ia){ga=ga.replace(/-[a-z]/gi,function(ka){return ka.substring(1).toUpperCase();});var ja=false;switch(ga){case 'background':this._attr('backgroundColor',ha,ia);return this;case 'backgroundColor':case 'borderColor':case 'color':ha=ca(ha);break;case 'opacity':ha=parseFloat(ha,10);break;case 'height':case 'width':if(ha=='auto'){ja=true;}else ha=parseInt(ha,10);break;case 'borderWidth':case 'lineHeight':case 'fontSize':case 'margin':case 'marginBottom':case 'marginLeft':case 'marginRight':case 'marginTop':case 'padding':case 'paddingBottom':case 'paddingLeft':case 'paddingRight':case 'paddingTop':case 'bottom':case 'left':case 'right':case 'top':case 'scrollTop':case 'scrollLeft':ha=parseInt(ha,10);break;case 'rotateX':case 'rotateY':case 'rotateZ':ha=parseInt(ha,10)*Math.PI/180;break;case 'translateX':case 'translateY':case 'translateZ':case 'scaleX':case 'scaleY':case 'scaleZ':ha=parseFloat(ha,10);break;case 'rotate3d':this._attr('rotateX',ha[0],ia);this._attr('rotateY',ha[1],ia);this._attr('rotateZ',ha[2],ia);return this;case 'rotate':this._attr('rotateZ',ha,ia);return this;case 'scale3d':this._attr('scaleZ',ha[2],ia);case 'scale':this._attr('scaleX',ha[0],ia);this._attr('scaleY',ha[1],ia);return this;case 'translate3d':this._attr('translateZ',ha[2],ia);case 'translate':this._attr('translateX',ha[0],ia);this._attr('translateY',ha[1],ia);return this;default:throw new Error(ga+' is not a supported attribute!');}if(this.state.attrs[ga]===undefined)this.state.attrs[ga]={};if(ja)this.state.attrs[ga].auto=true;switch(ia){case y:this.state.attrs[ga].start=ha;break;case x:this.state.attrs[ga].by=true;case w:this.state.attrs[ga].value=ha;break;}};function z(ga){var ha=parseInt(k.get(ga,'paddingLeft'),10),ia=parseInt(k.get(ga,'paddingRight'),10),ja=parseInt(k.get(ga,'borderLeftWidth'),10),ka=parseInt(k.get(ga,'borderRightWidth'),10);return ga.offsetWidth-(ha?ha:0)-(ia?ia:0)-(ja?ja:0)-(ka?ka:0);}function aa(ga){var ha=parseInt(k.get(ga,'paddingTop'),10),ia=parseInt(k.get(ga,'paddingBottom'),10),ja=parseInt(k.get(ga,'borderTopWidth'),10),ka=parseInt(k.get(ga,'borderBottomWidth'),10);return ga.offsetHeight-(ha?ha:0)-(ia?ia:0)-(ja?ja:0)-(ka?ka:0);}p.prototype.to=function(ga,ha){if(ha===undefined){this._attr(this.last_attr,ga,w);}else{this._attr(ga,ha,w);this.last_attr=ga;}return this;};p.prototype.by=function(ga,ha){if(ha===undefined){this._attr(this.last_attr,ga,x);}else{this._attr(ga,ha,x);this.last_attr=ga;}return this;};p.prototype.from=function(ga,ha){if(ha===undefined){this._attr(this.last_attr,ga,y);}else{this._attr(ga,ha,y);this.last_attr=ga;}return this;};p.prototype.duration=function(ga){this.state.duration=ga?ga:0;return this;};p.prototype.checkpoint=function(ga,ha){if(ga===undefined)ga=1;this.state.checkpoint=ga;this.queue.push(this.state);this._reset_state();this.state.checkpointcb=ha;return this;};p.prototype.blind=function(){this.state.blind=true;return this;};p.prototype.hide=function(){this.state.hide=true;return this;};p.prototype.show=function(){this.state.show=true;return this;};p.prototype.ease=function(ga){this.state.ease=ga;return this;};p.prototype.go=function(){var ga=Date.now();this.queue.push(this.state);for(var ha=0;ha<this.queue.length;ha++){this.queue[ha].start=ga-v;if(this.queue[ha].checkpoint)ga+=this.queue[ha].checkpoint*this.queue[ha].duration;}da(this);return this;};p.prototype._show=function(){h.show(this.obj);};p.prototype._hide=function(){h.hide(this.obj);};p.prototype._frame=function(ga){var ha=true,ia=false,ja;function ka(db){return document.documentElement[db]||document.body[db];}for(var la=0;la<this.queue.length;la++){var ma=this.queue[la];if(ma.start>ga){ha=false;continue;}if(ma.checkpointcb){this._callback(ma.checkpointcb,ga-ma.start);ma.checkpointcb=null;}if(ma.started===undefined){if(ma.show)this._show();for(var na in ma.attrs){if(ma.attrs[na].start!==undefined)continue;switch(na){case 'backgroundColor':case 'borderColor':case 'color':ja=ca(k.get(this.obj,na=='borderColor'?'borderLeftColor':na));if(ma.attrs[na].by){ma.attrs[na].value[0]=Math.min(255,Math.max(0,ma.attrs[na].value[0]+ja[0]));ma.attrs[na].value[1]=Math.min(255,Math.max(0,ma.attrs[na].value[1]+ja[1]));ma.attrs[na].value[2]=Math.min(255,Math.max(0,ma.attrs[na].value[2]+ja[2]));}break;case 'opacity':ja=k.getOpacity(this.obj);if(ma.attrs[na].by)ma.attrs[na].value=Math.min(1,Math.max(0,ma.attrs[na].value+ja));break;case 'height':ja=aa(this.obj);if(ma.attrs[na].by)ma.attrs[na].value+=ja;break;case 'width':ja=z(this.obj);if(ma.attrs[na].by)ma.attrs[na].value+=ja;break;case 'scrollLeft':case 'scrollTop':ja=(this.obj===document.body)?ka(na):this.obj[na];if(ma.attrs[na].by)ma.attrs[na].value+=ja;ma['last'+na]=ja;break;case 'rotateX':case 'rotateY':case 'rotateZ':case 'translateX':case 'translateY':case 'translateZ':ja=i.get(this.obj,na,0);if(ma.attrs[na].by)ma.attrs[na].value+=ja;break;case 'scaleX':case 'scaleY':case 'scaleZ':ja=i.get(this.obj,na,1);if(ma.attrs[na].by)ma.attrs[na].value+=ja;break;default:ja=parseInt(k.get(this.obj,na),10)||0;if(ma.attrs[na].by)ma.attrs[na].value+=ja;break;}ma.attrs[na].start=ja;}if((ma.attrs.height&&ma.attrs.height.auto)||(ma.attrs.width&&ma.attrs.width.auto)){this._destroy_container();for(var na in {height:1,width:1,fontSize:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:1,borderBottomWidth:1,paddingLeft:1,paddingRight:1,paddingTop:1,paddingBottom:1})if(ma.attrs[na])this.obj.style[na]=ma.attrs[na].value+(typeof ma.attrs[na].value=='number'?'px':'');if(ma.attrs.height&&ma.attrs.height.auto)ma.attrs.height.value=aa(this.obj);if(ma.attrs.width&&ma.attrs.width.auto)ma.attrs.width.value=z(this.obj);}ma.started=true;if(ma.blind)this._build_container();}var oa=(ga-ma.start)/ma.duration;if(oa>=1){oa=1;if(ma.hide)this._hide();}else ha=false;var pa=ma.ease?ma.ease(oa):oa;if(!ia&&oa!=1&&ma.blind)ia=true;for(var na in ma.attrs)switch(na){case 'backgroundColor':case 'borderColor':case 'color':if(ma.attrs[na].start[3]!=ma.attrs[na].value[3]){this.obj.style[na]='rgba('+ba(pa,ma.attrs[na].start[0],ma.attrs[na].value[0],true)+','+ba(pa,ma.attrs[na].start[1],ma.attrs[na].value[1],true)+','+ba(pa,ma.attrs[na].start[2],ma.attrs[na].value[2],true)+','+ba(pa,ma.attrs[na].start[3],ma.attrs[na].value[3],false)+')';}else this.obj.style[na]='rgb('+ba(pa,ma.attrs[na].start[0],ma.attrs[na].value[0],true)+','+ba(pa,ma.attrs[na].start[1],ma.attrs[na].value[1],true)+','+ba(pa,ma.attrs[na].start[2],ma.attrs[na].value[2],true)+')';break;case 'opacity':k.set(this.obj,'opacity',ba(pa,ma.attrs[na].start,ma.attrs[na].value));break;case 'height':case 'width':this.obj.style[na]=pa==1&&ma.attrs[na].auto?'auto':ba(pa,ma.attrs[na].start,ma.attrs[na].value,true)+'px';break;case 'scrollLeft':case 'scrollTop':var qa=this.obj===document.body;ja=qa?ka(na):this.obj[na];if(ma['last'+na]!==ja){delete ma.attrs[na];}else{var ra=ba(pa,ma.attrs[na].start,ma.attrs[na].value,true);if(!qa){ra=this.obj[na]=ra;}else{if(na=='scrollLeft'){a.scrollTo(ra,ka('scrollTop'));}else a.scrollTo(ka('scrollLeft'),ra);ra=ka(na);}ma['last'+na]=ra;}break;case 'translateX':case 'translateY':case 'translateZ':case 'rotateX':case 'rotateY':case 'rotateZ':case 'scaleX':case 'scaleY':case 'scaleZ':i.set(this.obj,na,ba(pa,ma.attrs[na].start,ma.attrs[na].value,false));break;default:this.obj.style[na]=ba(pa,ma.attrs[na].start,ma.attrs[na].value,true)+'px';break;}var sa=null,ta=i.get(this.obj,'translateX',0),ua=i.get(this.obj,'translateY',0),va=i.get(this.obj,'translateZ',0);if(ta||ua||va)sa=u(sa,[1,0,0,0,0,1,0,0,0,0,1,0,ta,ua,va,1]);var wa=i.get(this.obj,'scaleX',1),xa=i.get(this.obj,'scaleY',1),ya=i.get(this.obj,'scaleZ',1);if(wa-1||xa-1||ya-1)sa=u(sa,[wa,0,0,0,0,xa,0,0,0,0,ya,0,0,0,0,1]);var za=i.get(this.obj,'rotateX',0);if(za)sa=u(sa,[1,0,0,0,0,Math.cos(za),Math.sin(-za),0,0,Math.sin(za),Math.cos(za),0,0,0,0,1]);var ab=i.get(this.obj,'rotateY',0);if(ab)sa=u(sa,[Math.cos(ab),0,Math.sin(ab),0,0,1,0,0,Math.sin(-ab),0,Math.cos(ab),0,0,0,0,1]);var bb=i.get(this.obj,'rotateZ',0);if(bb)sa=u(sa,[Math.cos(bb),Math.sin(-bb),0,0,Math.sin(bb),Math.cos(bb),0,0,0,0,1,0,0,0,0,1]);if(sa){var cb=q(sa);k.apply(this.obj,{'-webkit-transform':cb,'-moz-transform':cb,'-ms-transform':cb,'-o-transform':cb,transform:cb});}else if(ha)k.apply(this.obj,{'-webkit-transform':null,'-moz-transform':null,'-ms-transform':null,'-o-transform':null,transform:null});if(oa==1){this.queue.splice(la--,1);this._callback(ma.ondone,ga-ma.start-ma.duration);}}if(!ia&&this.container_div)this._destroy_container();return !ha;};p.prototype.ondone=function(ga){this.state.ondone=ga;return this;};p.prototype._callback=function(ga,ha){if(ga){v=ha;ga.call(this);v=0;}};function ba(ga,ha,ia,ja){return (ja?parseInt:parseFloat)((ia-ha)*ga+ha,10);}function ca(ga){var ha=/^#([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{1,2})$/i.exec(ga);if(ha){return [parseInt(ha[1].length==1?ha[1]+ha[1]:ha[1],16),parseInt(ha[2].length==1?ha[2]+ha[2]:ha[2],16),parseInt(ha[3].length==1?ha[3]+ha[3]:ha[3],16),1];}else{var ia=/^rgba? *\(([0-9]+), *([0-9]+), *([0-9]+)(?:, *([0-9\.]+))?\)$/.exec(ga);if(ia){return [parseInt(ia[1],10),parseInt(ia[2],10),parseInt(ia[3],10),ia[4]?parseFloat(ia[4]):1];}else if(ga=='transparent'){return [255,255,255,0];}else throw 'Named color attributes are not supported.';}}function da(ga){n.push(ga);if(n.length===1){if(!m){var ha=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame;if(ha)m=ha.bind(a);}if(m){m(fa);}else o=setInterval(fa,20,false);}if(m)ea();fa(Date.now(),true);}function ea(){if(!m)throw new Error('Ending timer only valid with requestAnimationFrame');var ga=0;for(var ha=0;ha<n.length;ha++){var ia=n[ha];for(var ja=0;ja<ia.queue.length;ja++){var ka=ia.queue[ja].start+ia.queue[ja].duration;if(ka>ga)ga=ka;}}if(o){clearTimeout(o);o=null;}var la=Date.now();if(ga>la)o=setTimeout(l(fa),ga-la,false);}function fa(ga,ha){var ia=Date.now();for(var ja=(ha===true)?n.length-1:0;ja<n.length;ja++)try{if(!n[ja]._frame(ia))n.splice(ja--,1);}catch(ka){n.splice(ja--,1);}if(n.length===0){if(o){if(m){clearTimeout(o);}else clearInterval(o);o=null;}}else if(m)m(fa);}p.ease={};p.ease.begin=function(ga){return Math.sin(Math.PI/2*(ga-1))+1;};p.ease.end=function(ga){return Math.sin(.5*Math.PI*ga);};p.ease.both=function(ga){return .5*Math.sin(Math.PI*(ga-.5))+.5;};p.prependInsert=function(ga,ha){p.insert(ga,ha,j.prependContent);};p.appendInsert=function(ga,ha){p.insert(ga,ha,j.appendContent);};p.insert=function(ga,ha,ia){k.set(ha,'opacity',0);ia(ga,ha);new p(ha).from('opacity',0).to('opacity',1).duration(400).go();};e.exports=p;});
__d("joinClasses",[],function(a,b,c,d,e,f){function g(h){if(!h)h='';var i,j=arguments.length;if(j>1)for(var k=1;k<j;k++){i=arguments[k];i&&(h+=' '+i);}return h;}e.exports=g;});
__d("BadgeHelper",["DOM","cx","joinClasses"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('cx'),i=b('joinClasses');function j(l,m){var n;switch(l){case 'xsmall':n="_5dzz";break;case 'small':n="_5dz-";break;case 'medium':n="_5dz_";break;case 'large':n="_5d-0";break;case 'xlarge':n="_5d-1";break;}if(n&&m==='verified')return i(n,"_56_f _5dzy");}function k(l,m){var n=j(l,m);if(n)return g.create('span',{className:n});}e.exports={getClasses:j,renderBadge:k};});
__d("BasicTypeaheadRenderer",["BadgeHelper","DOM"],function(a,b,c,d,e,f){var g=b('BadgeHelper'),h=b('DOM');function i(j,k){var l=[];if(j.icon)l.push(h.create('img',{alt:'',src:j.icon}));if(j.text){var m=[j.text];if(j.verified)m.push(g.renderBadge('xsmall','verified'));l.push(h.create('span',{className:'text'},m));}if(j.subtext)l.push(h.create('span',{className:'subtext'},[j.subtext]));var n=h.create('li',{className:j.type||''},l);if(j.text)n.setAttribute('aria-label',j.text);return n;}i.className='basic';e.exports=i;});
__d("TypeaheadView",["ArbiterMixin","BasicTypeaheadRenderer","CSS","DOM","Event","Parent","$","copyProperties","emptyFunction","mixin"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('BasicTypeaheadRenderer'),i=b('CSS'),j=b('DOM'),k=b('Event'),l=b('Parent'),m=b('$'),n=b('copyProperties'),o=b('emptyFunction'),p=b('mixin'),q=p(g);for(var r in q)if(q.hasOwnProperty(r))t[r]=q[r];var s=q===null?null:q.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=q;function t(u,v){this.element=this.content=m(u);this.showBadges=v.showBadges;n(this,v);}t.prototype.init=function(){this.init=o;this.initializeEvents();this.reset();};t.prototype.initializeEvents=function(){k.listen(this.element,{mouseup:this.mouseup.bind(this),mouseover:this.mouseover.bind(this)});};t.prototype.setTypeahead=function(u){this.typeahead=u;};t.prototype.setAccessibilityControlElement=function(u){this.accessibilityElement=u;};t.prototype.getElement=function(){return this.element;};t.prototype.mouseup=function(event){if(event.button!=2){this.select(true);event.kill();}};t.prototype.mouseover=function(event){if(this.ignoreMouseover){this.ignoreMouseover=false;return;}if(this.visible)this.highlight(this.getIndex(event));};t.prototype.reset=function(u){if(!u)this.disableAutoSelect=false;this.index=-1;this.items=[];this.results=[];this.value='';this.content.innerHTML='';this.inform('reset');return this;};t.prototype.getIndex=function(event){return this.items.indexOf(l.byTag(event.getTarget(),'li'));};t.prototype.getSelection=function(){var u=this.results[this.index]||null;return this.visible?u:null;};t.prototype.isEmpty=function(){return !this.results.length;};t.prototype.isVisible=function(){return !!this.visible;};t.prototype.show=function(){i.show(this.element);if(this.results&&this.results.length)if(this.autoSelect&&this.accessibilityElement&&this.selected)this.accessibilityElement.setAttribute('aria-activedescendant',j.getID(this.selected));this.accessibilityElement&&this.accessibilityElement.setAttribute('aria-expanded','true');this.visible=true;return this;};t.prototype.hide=function(){i.hide(this.element);if(this.accessibilityElement){this.accessibilityElement.setAttribute('aria-expanded','false');this.accessibilityElement.removeAttribute('aria-activedescendant');}this.visible=false;return this;};t.prototype.render=function(u,v){this.value=u;if(!v.length){this.accessibilityElement&&this.accessibilityElement.removeAttribute('aria-activedescendant');this.reset(true);return;}var w={results:v,value:u};this.inform('beforeRender',w);v=w.results;var x=this.getDefaultIndex(v);if(this.index>0&&this.index!==this.getDefaultIndex(this.results)){var y=this.results[this.index];for(var z=0,aa=v.length;z<aa;++z)if(y.uid==v[z].uid){x=z;break;}}this.results=v;j.setContent(this.content,this.buildResults(v));this.items=this.getItems();this.highlight(x,false);this.inform('render',v);};t.prototype.getItems=function(){return j.scry(this.content,'li');};t.prototype.buildResults=function(u){var v,w=null;if(typeof this.renderer=='function'){v=this.renderer;w=this.renderer.className||'';}else{v=a.TypeaheadRenderers[this.renderer];w=this.renderer;}v=v.bind(this);var x=this.showBadges,y=u.map(function(aa,ba){if(!x)aa.verified=null;var ca=aa.node||v(aa,ba);ca.setAttribute('role','option');return ca;}),z=j.create('ul',{className:w,id:'typeahead_list_'+(this.typeahead?j.getID(this.typeahead):j.getID(this.element))},y);z.setAttribute('role','listbox');return z;};t.prototype.getDefaultIndex=function(){var u=(this.autoSelect&&!this.disableAutoSelect);return this.index<0&&!u?-1:0;};t.prototype.next=function(){this.highlight(this.index+1);this.inform('next',this.selected);};t.prototype.prev=function(){this.highlight(this.index-1);this.inform('prev',this.selected);};t.prototype.getItemText=function(u){var v='';if(u){v=u.getAttribute('aria-label');if(!v){v=j.getText(u);u.setAttribute('aria-label',v);}}return v;};t.prototype.setIsViewingSelectedItems=function(u){this.viewingSelected=u;return this;};t.prototype.getIsViewingSelectedItems=function(){return !!this.viewingSelected;};t.prototype.highlight=function(u,v){if(this.selected){i.removeClass(this.selected,'selected');this.selected.setAttribute('aria-selected','false');}if(u>this.items.length-1){u=-1;}else if(u<-1)u=this.items.length-1;if(u>=0&&u<this.items.length){this.selected=this.items[u];i.addClass(this.selected,'selected');this.selected.setAttribute('aria-selected','true');if(this.accessibilityElement)(function(){this.accessibilityElement.setAttribute('aria-activedescendant',j.getID(this.selected));}).bind(this).defer();}else this.accessibilityElement&&this.accessibilityElement.removeAttribute('aria-activedescendant');this.index=u;this.disableAutoSelect=(u==-1);if(v!==false)this.inform('highlight',{index:u,selected:this.results[u],element:this.selected});};t.prototype.select=function(u){var v=this.index,w=this.results[v],x=this.element.getAttribute('id');if(w){this.inform('select',{index:v,clicked:!!u,selected:w,id:x,query:this.value});this.inform('afterSelect');}};n(t.prototype,{events:['highlight','render','reset','select','beforeRender','next','prev'],renderer:h,autoSelect:false,ignoreMouseover:false});e.exports=t;});
__d("BucketedTypeaheadView",["DOM","TypeaheadView","tx"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('TypeaheadView'),i=b('tx');for(var j in h)if(h.hasOwnProperty(j))l[j]=h[j];var k=h===null?null:h.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=h;function l(){if(h!==null)h.apply(this,arguments);}l.prototype.render=function(m,n,o){n=this.buildBuckets(m,n);return k.render.call(this,m,n,o);};l.prototype.highlight=function(m,n){if(m==-1&&this.index!==0)m=this.index;while(m>=0&&m<this.items.length&&!this.isHighlightable(this.results[m]))m=m+1;k.highlight.call(this,m,n);};l.prototype.buildBuckets=function(m,n){if(!this.typeObjects||!n||!n.length)return n;var o=[],p={};for(var q=0;q<n.length;++q){var r=n[q],s=r.render_type||r.type;if(!p.hasOwnProperty(s)){p[s]=o.length;o.push([this.buildBucketHeader(s)]);}r.classNames=s;r.groupIndex=p[s];r.indexInGroup=o[r.groupIndex].length-1;o[r.groupIndex].push(r);}for(s in this.typeObjects)if(!p.hasOwnProperty(s)&&this.typeObjects[s].show_always){p[s]=o.length;o.push([this.buildBucketHeader(s)]);r=this.buildNoResultsEntry();r.classNames=r.type;r.groupIndex=p[s];r.indexInGroup=o[r.groupIndex].length-1;o[r.groupIndex].push(r);}var t=[];if(this.typeObjectsOrder){for(var u=0;u<this.typeObjectsOrder.length;++u){var v=this.typeObjectsOrder[u];if(p.hasOwnProperty(v))t=t.concat(o[p[v]]);}}else for(var w=0;w<o.length;++w)t=t.concat(o[w]);return t;};l.prototype.buildNoResultsEntry=function(){return {uid:'disabled_result',type:'disabled_result',text:"No Results"};};l.prototype.buildBucketHeader=function(m){var n=this.typeObjects[m];if(n===undefined)throw new Error(m+" is undefined in "+JSON.stringify(this.typeObjects));if(n.markup){n.text=n.markup;delete n.markup;}return this.typeObjects[m];};l.prototype.buildResults=function(m){var n=k.buildResults.call(this,m);if(this.typeObjects){return g.create('div',{className:'bucketed'},[n]);}else return n;};l.prototype.isHighlightable=function(m){return m.type!='header'&&m.type!='disabled_result';};l.prototype.select=function(m){var n=this.results[this.index];if(n&&this.isHighlightable(n))k.select.call(this,m);};l.prototype.normalizeIndex=function(m){var n=this.results.length;if(n===0){return -1;}else if(m<-1){return (m%n)+n+1;}else if(m>=n){return (m%n)-1;}else return m;};l.prototype.getDefaultIndex=function(m){var n=(this.autoSelect&&!this.disableAutoSelect);if(this.index<0&&!n)return -1;if(m.length===0)return -1;var o=0;while(!this.isHighlightable(m)&&o<m.length)o++;return o;};l.prototype.prev=function(){var m=this.results[this.normalizeIndex(this.index-1)];while(m&&!this.isHighlightable(m)){this.index=this.normalizeIndex(this.index-1);m=this.results[this.normalizeIndex(this.index-1)];}return k.prev.call(this);};l.prototype.next=function(){var m=this.results[this.normalizeIndex(this.index+1)];while(m&&!this.isHighlightable(m)){this.index=this.normalizeIndex(this.index+1);m=this.results[this.normalizeIndex(this.index+1)];}return k.next.call(this);};e.exports=l;});
__d("Button",["CSS","DataStore","DOM","Event","Parent","cx","emptyFunction"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DataStore'),i=b('DOM'),j=b('Event'),k=b('Parent'),l=b('cx'),m=b('emptyFunction'),n='uiButtonDisabled',o='uiButtonDepressed',p="_42fr",q="_42fs",r='button:blocker',s='href',t='ajaxify';function u(aa,ba){var ca=h.get(aa,r);if(ba){if(ca){ca.remove();h.remove(aa,r);}}else if(!ca)h.set(aa,r,j.listen(aa,'click',m.thatReturnsFalse,j.Priority.URGENT));}function v(aa){var ba=k.byClass(aa,'uiButton')||k.byClass(aa,"_42ft");if(!ba)throw new Error('invalid use case');return ba;}function w(aa){return i.isNodeOfType(aa,'a');}function x(aa){return i.isNodeOfType(aa,'button');}function y(aa){return g.hasClass(aa,"_42ft");}var z={getInputElement:function(aa){aa=v(aa);if(w(aa))throw new Error('invalid use case');return x(aa)?aa:i.find(aa,'input');},isEnabled:function(aa){return !(g.hasClass(v(aa),n)||g.hasClass(v(aa),p));},setEnabled:function(aa,ba){aa=v(aa);var ca=y(aa)?p:n;g.conditionClass(aa,ca,!ba);if(w(aa)){var da=aa.getAttribute('href'),ea=aa.getAttribute('ajaxify'),fa=h.get(aa,s,'#'),ga=h.get(aa,t);if(ba){if(!da)aa.setAttribute('href',fa);if(!ea&&ga)aa.setAttribute('ajaxify',ga);aa.removeAttribute('tabIndex');}else{if(da&&da!==fa)h.set(aa,s,da);if(ea&&ea!==ga)h.set(aa,t,ea);aa.removeAttribute('href');aa.removeAttribute('ajaxify');aa.setAttribute('tabIndex','-1');}u(aa,ba);}else{var ha=z.getInputElement(aa);ha.disabled=!ba;u(ha,ba);}},setDepressed:function(aa,ba){aa=v(aa);var ca=y(aa)?q:o;g.conditionClass(aa,ca,ba);},isDepressed:function(aa){aa=v(aa);var ba=y(aa)?q:o;return g.hasClass(aa,ba);},setLabel:function(aa,ba){aa=v(aa);if(y(aa)){var ca=[];if(ba)ca.push(ba);var da=i.scry(aa,'.img')[0];if(da)if(aa.firstChild==da){ca.unshift(da);}else ca.push(da);i.setContent(aa,ca);}else if(w(aa)){var ea=i.find(aa,'span.uiButtonText');i.setContent(ea,ba);}else z.getInputElement(aa).value=ba;var fa=y(aa)?"_42fv":'uiButtonNoText';g.conditionClass(aa,fa,!ba);},setIcon:function(aa,ba){if(ba&&!i.isNode(ba))return;aa=v(aa);var ca=i.scry(aa,'.img')[0];if(!ba){ca&&i.remove(ca);return;}g.addClass(ba,'customimg');if(ca!=ba)if(ca){i.replace(ca,ba);}else i.prependContent(aa,ba);}};e.exports=z;});
__d("Keys",[],function(a,b,c,d,e,f){e.exports={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188};});
__d("Locale",["Style"],function(a,b,c,d,e,f){var g=b('Style'),h,i={isRTL:function(){if(h===undefined)h=('rtl'===g.get(document.body,'direction'));return h;}};e.exports=i;});
__d("Vector",["DOMDimensions","DOMPosition","Event","copyProperties"],function(a,b,c,d,e,f){var g=b('DOMDimensions'),h=b('DOMPosition'),i=b('Event'),j=b('copyProperties');function k(l,m,n){j(this,{x:parseFloat(l),y:parseFloat(m),domain:n||'pure'});}k.prototype.toString=function(){return '('+this.x+', '+this.y+')';};k.prototype.add=function(l,m){if(arguments.length==1){if(l.domain!='pure')l=l.convertTo(this.domain);return this.add(l.x,l.y);}var n=parseFloat(l),o=parseFloat(m);return new k(this.x+n,this.y+o,this.domain);};k.prototype.mul=function(l,m){if(typeof m=="undefined")m=l;return new k(this.x*l,this.y*m,this.domain);};k.prototype.div=function(l,m){if(typeof m=="undefined")m=l;return new k(this.x*1/l,this.y*1/m,this.domain);};k.prototype.sub=function(l,m){if(arguments.length==1){return this.add(l.mul(-1));}else return this.add(-l,-m);};k.prototype.distanceTo=function(l){return this.sub(l).magnitude();};k.prototype.magnitude=function(){return Math.sqrt((this.x*this.x)+(this.y*this.y));};k.prototype.rotate=function(l){return new k(this.x*Math.cos(l)-this.y*Math.sin(l),this.x*Math.sin(l)+this.y*Math.cos(l));};k.prototype.convertTo=function(l){if(l!='pure'&&l!='viewport'&&l!='document')return new k(0,0);if(l==this.domain)return new k(this.x,this.y,this.domain);if(l=='pure')return new k(this.x,this.y);if(this.domain=='pure')return new k(0,0);var m=k.getScrollPosition('document'),n=this.x,o=this.y;if(this.domain=='document'){n-=m.x;o-=m.y;}else{n+=m.x;o+=m.y;}return new k(n,o,l);};k.prototype.setElementPosition=function(l){var m=this.convertTo('document');l.style.left=parseInt(m.x)+'px';l.style.top=parseInt(m.y)+'px';return this;};k.prototype.setElementDimensions=function(l){return this.setElementWidth(l).setElementHeight(l);};k.prototype.setElementWidth=function(l){l.style.width=parseInt(this.x,10)+'px';return this;};k.prototype.setElementHeight=function(l){l.style.height=parseInt(this.y,10)+'px';return this;};k.prototype.scrollElementBy=function(l){if(l==document.body){window.scrollBy(this.x,this.y);}else{l.scrollLeft+=this.x;l.scrollTop+=this.y;}return this;};k.getEventPosition=function(l,m){m=m||'document';var n=i.getPosition(l),o=new k(n.x,n.y,'document');return o.convertTo(m);};k.getScrollPosition=function(l){l=l||'document';var m=h.getScrollPosition();return new k(m.x,m.y,'document').convertTo(l);};k.getElementPosition=function(l,m){m=m||'document';var n=h.getElementPosition(l);return new k(n.x,n.y,'viewport').convertTo(m);};k.getElementDimensions=function(l){var m=g.getElementDimensions(l);return new k(m.width,m.height);};k.getViewportDimensions=function(){var l=g.getViewportDimensions();return new k(l.width,l.height,'viewport');};k.getDocumentDimensions=function(l){var m=g.getDocumentDimensions(l);return new k(m.width,m.height,'document');};k.deserialize=function(l){var m=l.split(',');return new k(m[0],m[1]);};e.exports=k;});
__d("getOverlayZIndex",["Style"],function(a,b,c,d,e,f){var g=b('Style');function h(i,j){j=j||document.body;var k=[];while(i&&i!==j){k.push(i);i=i.parentNode;}if(i!==j)return 0;for(var l=k.length-1;l>=0;l--){var m=k[l];if(g.get(m,'position')!='static'){var n=parseInt(g.get(m,'z-index'),10);if(!isNaN(n))return n;}}return 0;}e.exports=h;});
__d("Dialog",["Animation","Arbiter","AsyncRequest","Bootloader","Button","ContextualThing","CSS","DOM","Event","Focus","Form","HTML","Keys","Locale","Parent","Run","Style","URI","UserAgent","Vector","bind","copyProperties","createArrayFrom","emptyFunction","getObjectValues","getOverlayZIndex","removeFromArray","shield","tx"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Arbiter'),i=b('AsyncRequest'),j=b('Bootloader'),k=b('Button'),l=b('ContextualThing'),m=b('CSS'),n=b('DOM'),o=b('Event'),p=b('Focus'),q=b('Form'),r=b('HTML'),s=b('Keys'),t=b('Locale'),u=b('Parent'),v=b('Run'),w=b('Style'),x=b('URI'),y=b('UserAgent'),z=b('Vector'),aa=b('bind'),ba=b('copyProperties'),ca=b('createArrayFrom'),da=b('emptyFunction'),ea=b('getObjectValues'),fa=b('getOverlayZIndex'),ga=b('removeFromArray'),ha=b('shield'),ia=b('tx'),ja=function(){var la=document.body,ma=document.createElement('div'),na=document.createElement('div');la.insertBefore(ma,la.firstChild);la.insertBefore(na,la.firstChild);ma.style.position='fixed';ma.style.top='20px';var oa=ma.offsetTop!==na.offsetTop;la.removeChild(ma);la.removeChild(na);ja=da.thatReturns(oa);return oa;};function ka(la){this._show_loading=true;this._auto_focus=true;this._submit_on_enter=false;this._fade_enabled=true;this._onload_handlers=[];this._top=125;this._uniqueID='dialog_'+ka._globalCount++;this._content=null;this._obj=null;this._popup=null;this._overlay=null;this._shim=null;this._causal_elem=null;this._previous_focus=null;this._buttons=[];this._buildDialog();if(la)this._setFromModel(la);ka._init();}ka.prototype.show=function(){this._showing=true;if(this._async_request){if(this._show_loading)this.showLoading();}else this._update();return this;};ka.prototype.showLoading=function(){this._loading=true;m.addClass(this._frame,'dialog_loading_shown');this._renderDialog();return this;};ka.prototype.hide=function(){if(!this._showing&&!this._loading)return this;this._showing=false;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null;}if(this._fade_enabled&&ka._stack.length<=1){this._fadeOut();}else this._hide();return this;};ka.prototype.cancel=function(){if(!this._cancelHandler||this._cancelHandler()!==false)this.hide();};ka.prototype.getRoot=function(){return this._obj;};ka.prototype.getBody=function(){return n.scry(this._obj,'div.dialog_body')[0];};ka.prototype.getButtonElement=function(la){if(typeof la=='string')la=ka._findButton(this._buttons,la);if(!la||!la.name)return null;var ma=n.scry(this._popup,'input'),na=function(oa){return oa.name==la.name;};return ma.filter(na)[0]||null;};ka.prototype.getContentNode=function(){return n.find(this._content,'div.dialog_content');};ka.prototype.getFormData=function(){return q.serialize(this.getContentNode());};ka.prototype.setAllowCrossPageTransition=function(la){this._cross_transition=la;return this;};ka.prototype.setAllowCrossQuicklingNavigation=function(la){this._cross_quickling=la;return this;};ka.prototype.setShowing=function(){this.show();return this;};ka.prototype.setHiding=function(){this.hide();return this;};ka.prototype.setTitle=function(la){var ma=this._nodes.title,na=this._nodes.title_inner,oa=this._nodes.content;n.setContent(na,this._format(la||''));m.conditionShow(ma,!!la);m.conditionClass(oa,'dialog_content_titleless',!la);return this;};ka.prototype.setBody=function(la){n.setContent(this._nodes.body,this._format(la));return this;};ka.prototype.setExtraData=function(la){this._extra_data=la;return this;};ka.prototype.setReturnData=function(la){this._return_data=la;return this;};ka.prototype.setShowLoading=function(la){this._show_loading=la;return this;};ka.prototype.setFullBleed=function(la){this._full_bleed=la;this._updateWidth();m.conditionClass(this._obj,'full_bleed',la);return this;};ka.prototype.setCausalElement=function(la){this._causal_elem=la;return this;};ka.prototype.setUserData=function(la){this._user_data=la;return this;};ka.prototype.getUserData=function(){return this._user_data;};ka.prototype.setAutohide=function(la){if(la){if(this._showing){this._autohide_timeout=setTimeout(ha(this.hide,this),la);}else this._autohide=la;}else{this._autohide=null;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null;}}return this;};ka.prototype.setSummary=function(la){var ma=this._nodes.summary;n.setContent(ma,this._format(la||''));m.conditionShow(ma,!!la);return this;};ka.prototype.setButtons=function(la){var ma,na;if(!(la instanceof Array)){ma=ca(arguments);}else ma=la;for(var oa=0;oa<ma.length;++oa)if(typeof ma[oa]=='string'){na=ka._findButton(ka._STANDARD_BUTTONS,ma[oa]);ma[oa]=na;}this._buttons=ma;var pa=[];if(ma&&ma.length>0)for(var qa=0;qa<ma.length;qa++){na=ma[qa];var ra=n.create('input',{type:'button',name:na.name||'',value:na.label}),sa=n.create('label',{className:'uiButton uiButtonLarge uiButtonConfirm'},ra);if(na.className){na.className.split(/\s+/).forEach(function(ua){m.addClass(sa,ua);});if(m.hasClass(sa,'inputaux')){m.removeClass(sa,'inputaux');m.removeClass(sa,'uiButtonConfirm');}if(m.hasClass(sa,'uiButtonSpecial'))m.removeClass(sa,'uiButtonConfirm');}if(na.icon)n.prependContent(sa,n.create('img',{src:na.icon,className:'img mrs'}));if(na.disabled)k.setEnabled(sa,false);o.listen(ra,'click',this._handleButton.bind(this,na.name));for(var ta in na)if(ta.indexOf('data-')===0&&ta.length>5)ra.setAttribute(ta,na[ta]);pa.push(sa);}n.setContent(this._nodes.buttons,pa);this._updateButtonVisibility();return this;};ka.prototype.setButtonsMessage=function(la){n.setContent(this._nodes.button_message,this._format(la||''));this._has_button_message=!!la;this._updateButtonVisibility();return this;};ka.prototype._updateButtonVisibility=function(){var la=this._buttons.length>0||this._has_button_message;m.conditionShow(this._nodes.button_wrapper,la);m.conditionClass(this._obj,'omitDialogFooter',!la);};ka.prototype.setClickButtonOnEnter=function(la,ma){this._clickOnEnterTarget=la;if(!this._clickOnEnterListener)this._clickOnEnterListener=o.listen(this._nodes.body,'keypress',function(event){var na=event.getTarget();if(na&&na.id===this._clickOnEnterTarget)if(o.getKeyCode(event)==s.RETURN){this._handleButton(ma);event.kill();}return true;}.bind(this));return this;};ka.prototype.setStackable=function(la,ma){this._is_stackable=la;this._shown_while_stacked=la&&ma;return this;};ka.prototype.setHandler=function(la){this._handler=la;return this;};ka.prototype.setCancelHandler=function(la){this._cancelHandler=ka.call_or_eval.bind(null,this,la);return this;};ka.prototype.setCloseHandler=function(la){this._close_handler=ka.call_or_eval.bind(null,this,la);return this;};ka.prototype.clearHandler=function(){return this.setHandler(null);};ka.prototype.setPostURI=function(la,ma){if(ma===undefined)ma=true;if(ma){this.setHandler(this._submitForm.bind(this,'POST',la));}else this.setHandler(function(){q.post(la,this.getFormData());this.hide();}.bind(this));return this;};ka.prototype.setGetURI=function(la){this.setHandler(this._submitForm.bind(this,'GET',la));return this;};ka.prototype.setModal=function(la){this._modal=la;m.conditionClass(this._obj,'generic_dialog_modal',la);return this;};ka.prototype.setSemiModal=function(la){if(la){this.setModal(true);this._semiModalListener=o.listen(this._obj,'click',function(ma){if(!n.contains(this._popup,ma.getTarget()))this.hide();}.bind(this));}else this._semiModalListener&&this._semiModalListener.remove();this._semi_modal=la;return this;};ka.prototype.setWideDialog=function(la){this._wide_dialog=la;this._updateWidth();return this;};ka.prototype.setContentWidth=function(la){this._content_width=la;this._updateWidth();return this;};ka.prototype.setTitleLoading=function(la){if(la===undefined)la=true;var ma=n.find(this._popup,'h2.dialog_title');if(ma)m.conditionClass(ma,'loading',la);return this;};ka.prototype.setSecure=function(la){m.conditionClass(this._nodes.title,'secure',la);return this;};ka.prototype.setClassName=function(la){la.split(/\s+/).forEach(m.addClass.bind(m,this._obj));return this;};ka.prototype.setFadeEnabled=function(la){this._fade_enabled=la;return this;};ka.prototype.setFooter=function(la){var ma=this._nodes.footer;n.setContent(ma,this._format(la||''));m.conditionShow(ma,!!la);return this;};ka.prototype.setAutoFocus=function(la){this._auto_focus=la;return this;};ka.prototype.setTop=function(la){this._top=la;this._resetDialogObj();return this;};ka.prototype.onloadRegister=function(la){ca(la).forEach(function(ma){if(typeof ma=='string')ma=new Function(ma);this._onload_handlers.push(ma.bind(this));}.bind(this));return this;};ka.prototype.setAsyncURL=function(la){return this.setAsync(new i(la));};ka.prototype.setAsync=function(la){var ma=function(ua){if(this._async_request!=la)return;this._async_request=null;var va=ua.getPayload(),wa=va;if(this._loading)this._showing=true;if(typeof wa=='string'){this.setBody(wa);}else this._setFromModel(wa);this._update();}.bind(this),na=la.getData();na.__d=1;la.setData(na);var oa=la.getHandler()||da;la.setHandler(function(ua){oa(ua);ma(ua);});var pa=la,qa=pa.getErrorHandler()||da,ra=pa.getTransportErrorHandler()||da,sa=function(){this._async_request=null;this._loading=false;if(this._showing&&this._shown_while_stacked){this._update();}else this._hide(this._is_stackable);}.bind(this),ta=pa.getServerDialogCancelHandler()||sa;pa.setAllowCrossPageTransition(this._cross_transition).setErrorHandler(function(ua){sa();qa(ua);}).setTransportErrorHandler(function(ua){sa();ra(ua);}).setServerDialogCancelHandler(ta);la.send();this._async_request=la;if(this._showing)this.show();return this;};ka.prototype._format=function(la){if(typeof la=='string'){la=r(la);}else la=r.replaceJSONWrapper(la);if(la instanceof r)la.setDeferred(true);return la;};ka.prototype._update=function(){if(!this._showing)return;if(this._autohide&&!this._async_request&&!this._autohide_timeout)this._autohide_timeout=setTimeout(aa(this,'hide'),this._autohide);m.removeClass(this._frame,'dialog_loading_shown');this._loading=false;this._renderDialog();this._runOnloads();this._previous_focus=document.activeElement;p.set(this._frame);};ka.prototype._runOnloads=function(){for(var la=0;la<this._onload_handlers.length;++la)try{this._onload_handlers[la]();}catch(ma){}this._onload_handlers=[];};ka.prototype._updateWidth=function(){var la=2*ka._BORDER_WIDTH;if(ka._isUsingCSSBorders())la+=2*ka._HALO_WIDTH;if(this._content_width){la+=this._content_width;if(!this._full_bleed)la+=2*ka._PADDING_WIDTH;}else if(this._wide_dialog){la+=ka.SIZE.WIDE;}else la+=ka.SIZE.STANDARD;this._popup.style.width=la+'px';};ka.prototype._updateZIndex=function(){if(!this._hasSetZIndex&&this._causal_elem){var la=fa(this._causal_elem),ma=this._causal_elem;while(!la&&(ma=l.getContext(ma)))la=fa(ma);this._hasSetZIndex=la>(this._modal?400:200);w.set(this._obj,'z-index',this._hasSetZIndex?la:'');}};ka.prototype._renderDialog=function(){this._updateZIndex();this._pushOntoStack();this._obj.style.height=(this._modal&&y.ie()<7)?z.getDocumentDimensions().y+'px':null;if(this._obj&&this._obj.style.display){this._obj.style.visibility='hidden';this._obj.style.display='';this.resetDialogPosition();this._obj.style.visibility='';this._obj.dialog=this;}else this.resetDialogPosition();clearInterval(this.active_hiding);this.active_hiding=setInterval(this._activeResize.bind(this),500);this._submit_on_enter=false;if(this._auto_focus){var la=q.getFirstElement(this._content,['input[type="text"]','textarea','input[type="password"]']);if(la){q.focusFirst.bind(this,this._content).defer();}else this._submit_on_enter=true;}var ma=z.getElementDimensions(this._content).y+z.getElementPosition(this._content).y;ka._bottoms.push(ma);this._bottom=ma;ka._updateMaxBottom();return this;};ka.prototype._buildDialog=function(){this._obj=n.create('div',{className:'generic_dialog',id:this._uniqueID});this._obj.style.display='none';n.appendContent(document.body,this._obj);if(!this._popup)this._popup=n.create('div',{className:'generic_dialog_popup'});this._obj.appendChild(this._popup);if(y.ie()<7&&!this._shim)j.loadModules(['IframeShim'],function(xa){this._shim=new xa(this._popup);});m.addClass(this._obj,'pop_dialog');if(t.isRTL())m.addClass(this._obj,'pop_dialog_rtl');var la;if(ka._isUsingCSSBorders()){la='<div class="pop_container_advanced">'+'<div class="pop_content" id="pop_content"></div>'+'</div>';}else la='<div class="pop_container">'+'<div class="pop_verticalslab"></div>'+'<div class="pop_horizontalslab"></div>'+'<div class="pop_topleft"></div>'+'<div class="pop_topright"></div>'+'<div class="pop_bottomright"></div>'+'<div class="pop_bottomleft"></div>'+'<div class="pop_content pop_content_old" id="pop_content"></div>'+'</div>';n.setContent(this._popup,r(la));var ma=n.find(this._popup,'div.pop_content');ma.setAttribute('tabIndex','0');ma.setAttribute('role','alertdialog');this._frame=this._content=ma;var na=n.create('div',{className:'dialog_loading'},"Loading..."),oa=n.create('span'),pa=n.create('h2',{className:'dialog_title hidden_elem',id:'title_'+this._uniqueID},oa),qa=n.create('div',{className:'dialog_summary hidden_elem'}),ra=n.create('div',{className:'dialog_body'}),sa=n.create('div',{className:'rfloat mlm'}),ta=n.create('div',{className:'dialog_buttons_msg'}),ua=n.create('div',{className:'dialog_buttons clearfix hidden_elem'},[sa,ta]),va=n.create('div',{className:'dialog_footer hidden_elem'}),wa=n.create('div',{className:'dialog_content'},[qa,ra,ua,va]);this._nodes={summary:qa,body:ra,buttons:sa,button_message:ta,button_wrapper:ua,footer:va,content:wa,title:pa,title_inner:oa};n.setContent(this._frame,[pa,wa,na]);};ka.prototype._updateShim=function(){return this._shim&&this._shim.show();};ka.prototype._activeResize=function(){if(this.last_offset_height!=this._content.offsetHeight){this.last_offset_height=this._content.offsetHeight;this.resetDialogPosition();}};ka.prototype.resetDialogPosition=function(){if(!this._popup)return;this._resetDialogObj();this._updateShim();};ka.prototype._resetDialogObj=function(){var la=2*ka._PAGE_MARGIN,ma=z.getViewportDimensions(),na=ma.x-la,oa=ma.y-la,pa=2*ka._HALO_WIDTH,qa=z.getElementDimensions(this._content),ra=qa.x+pa,sa=qa.y+pa,ta=this._top,ua=na-ra,va=oa-sa;if(va<0){ta=ka._PAGE_MARGIN;}else if(ta>va)ta=ka._PAGE_MARGIN+(Math.max(va,0)/2);var wa=ja();if(!wa)ta+=z.getScrollPosition().y;w.set(this._popup,'marginTop',ta+'px');var xa=wa&&(ua<0||va<0);m.conditionClass(this._obj,'generic_dialog_fixed_overflow',xa);m.conditionClass(document.documentElement,'generic_dialog_overflow_mode',xa);};ka.prototype._fadeOut=function(la){if(!this._popup)return;try{new g(this._obj).duration(0).checkpoint().to('opacity',0).hide().duration(250).ondone(this._hide.bind(this,la)).go();}catch(ma){this._hide(la);}};ka.prototype._hide=function(la){if(this._obj)this._obj.style.display='none';m.removeClass(document.documentElement,'generic_dialog_overflow_mode');this._updateShim();clearInterval(this.active_hiding);if(this._bottom){var ma=ka._bottoms;ma.splice(ma.indexOf(this._bottom),1);ka._updateMaxBottom();}if(this._previous_focus&&document.activeElement&&n.contains(this._obj,document.activeElement))p.set(this._previous_focus);if(la)return;this.destroy();};ka.prototype.destroy=function(){this._popFromStack();clearInterval(this.active_hiding);if(this._obj){n.remove(this._obj);this._obj=null;this._shim&&this._shim.hide();this._shim=null;}this._clickOnEnterListener&&this._clickOnEnterListener.remove();if(this._close_handler)this._close_handler({return_data:this._return_data});};ka.prototype._handleButton=function(la){if(typeof la=='string')la=ka._findButton(this._buttons,la);var ma=ka.call_or_eval(la,la.handler);if(ma===false)return;if(la.name=='cancel'){this.cancel();}else if(ka.call_or_eval(this,this._handler,{button:la})!==false)this.hide();};ka.prototype._submitForm=function(la,ma,na){var oa=this.getFormData();if(na)oa[na.name]=na.label;if(this._extra_data)ba(oa,this._extra_data);var pa=new i().setURI(ma).setData(oa).setMethod(la).setNectarModuleDataSafe(this._causal_elem).setReadOnly(la=='GET');this.setAsync(pa);return false;};ka.prototype._setFromModel=function(la){var ma={};ba(ma,la);for(var na in ma){if(na=='onloadRegister'){this.onloadRegister(ma[na]);continue;}var oa=this['set'+na.substr(0,1).toUpperCase()+na.substr(1)];oa.apply(this,ca(ma[na]));}};ka.prototype._updateBottom=function(){var la=z.getElementDimensions(this._content).y+z.getElementPosition(this._content).y;ka._bottoms[ka._bottoms.length-1]=la;ka._updateMaxBottom();};ka.prototype._pushOntoStack=function(){var la=ka._stack;if(!la.length)h.inform('layer_shown',{type:'Dialog'});ga(la,this);la.push(this);for(var ma=la.length-2;ma>=0;ma--){var na=la[ma];if(!na._is_stackable&&!na._async_request){na._hide();}else if(!na._shown_while_stacked)na._hide(true);}};ka.prototype._popFromStack=function(){var la=ka._stack,ma=(la[la.length-1]===this);ga(la,this);if(la.length){if(ma)la[la.length-1].show();}else h.inform('layer_hidden',{type:'Dialog'});};ka._updateMaxBottom=function(){ka.max_bottom=Math.max.apply(Math,ka._bottoms);};ka._isUsingCSSBorders=function(){return y.ie()<7;};ka.newButton=function(la,ma,na,oa){var pa={name:la,label:ma};if(na)pa.className=na;if(oa)pa.handler=oa;return pa;};ka.getCurrent=function(){var la=ka._stack;return la.length?la[la.length-1]:null;};ka.hideCurrent=function(){var la=ka.getCurrent();la&&la.hide();};ka.bootstrap=function(la,ma,na,oa,pa,qa){ma=ma||{};ba(ma,new x(la).getQueryData());oa=oa||(na?'GET':'POST');var ra=u.byClass(qa,'stat_elem')||qa;if(ra&&m.hasClass(ra,'async_saving'))return false;var sa=new i().setReadOnly(!!na).setMethod(oa).setRelativeTo(qa).setStatusElement(ra).setURI(la).setNectarModuleDataSafe(qa).setData(ma),ta=new ka(pa).setCausalElement(qa).setAsync(sa);ta.show();return false;};ka.showFromModel=function(la,ma){var na=new ka(la).setCausalElement(ma).show();if(la.hiding)na.hide();};ka._init=function(){this._init=da;v.onLeave(ha(ka._tearDown,null,false));h.subscribe('page_transition',ha(ka._tearDown,null,true));o.listen(document.documentElement,'keydown',function(event){if(o.getKeyCode(event)==s.ESC&&!event.getModifiers().any){if(ka._escape())event.kill();}else if(o.getKeyCode(event)==s.RETURN&&!event.getModifiers().any)if(ka._enter())event.kill();});o.listen(window,'resize',function(event){var la=ka.getCurrent();la&&la._resetDialogObj();});};ka._findButton=function(la,ma){if(la)for(var na=0;na<la.length;++na)if(la[na].name==ma)return la[na];return null;};ka._tearDown=function(la){var ma=ka._stack.slice();for(var na=ma.length-1;na>=0;na--)if((la&&!ma[na]._cross_transition)||(!la&&!ma[na]._cross_quickling))ma[na].hide();};ka._escape=function(){var la=ka.getCurrent();if(!la)return false;var ma=la._semi_modal,na=la._buttons;if(!na.length&&!ma)return false;if(ma&&!na.length){la.hide();return true;}var oa,pa=ka._findButton(na,'cancel');if(la._cancelHandler){la.cancel();return true;}else if(pa){oa=pa;}else if(na.length==1){oa=na[0];}else return false;la._handleButton(oa);return true;};ka._enter=function(){var la=ka.getCurrent();if(!la||!la._submit_on_enter)return false;if(document.activeElement!=la._frame)return false;var ma=la._buttons;if(!ma)return false;la._handleButton(ma[0]);return true;};ka.call_or_eval=function(la,ma,na){if(!ma)return undefined;na=na||{};if(typeof ma=='string'){var oa=Object.keys(na).join(', ');ma=(eval)('({f: function('+oa+') { '+ma+'}})').f;}return ma.apply(la,ea(na));};ba(ka,{OK:{name:'ok',label:"Okay"},CANCEL:{name:'cancel',label:"Cancel",className:'inputaux'},CLOSE:{name:'close',label:"Close"},NEXT:{name:'next',label:"Next"},SAVE:{name:'save',label:"Save"},SUBMIT:{name:'submit',label:"Submit"},CONFIRM:{name:'confirm',label:"Confirm"},DELETE:{name:'delete',label:"Delete"},_globalCount:0,_bottoms:[0],max_bottom:0});ba(ka,{OK_AND_CANCEL:[ka.OK,ka.CANCEL],_STANDARD_BUTTONS:[ka.OK,ka.CANCEL,ka.CLOSE,ka.SAVE,ka.SUBMIT,ka.CONFIRM,ka.DELETE],SIZE:{WIDE:555,STANDARD:445},_HALO_WIDTH:10,_BORDER_WIDTH:1,_PADDING_WIDTH:10,_PAGE_MARGIN:40,_stack:[]});ba(ka.prototype,{_cross_quickling:false,_cross_transition:false,_loading:false,_showing:false});e.exports=ka;a.Dialog=ka;});
__d("ViewportBounds",["Style","Vector","emptyFunction","ge","removeFromArray"],function(a,b,c,d,e,f){var g=b('Style'),h=b('Vector'),i=b('emptyFunction'),j=b('ge'),k=b('removeFromArray'),l={top:[],right:[],bottom:[],left:[]};function m(q){return function(){var r=0;l[q].forEach(function(s){r=Math.max(r,s.getSize());});return r;};}function n(q){return function(r){return new o(q,r);};}function o(q,r){this.getSide=i.thatReturns(q);this.getSize=function(){return typeof r==='function'?r():r;};l[q].push(this);}o.prototype.remove=function(){k(l[this.getSide()],this);};var p={getTop:m('top'),getRight:m('right'),getBottom:m('bottom'),getLeft:m('left'),getElementPosition:function(q){var r=h.getElementPosition(q);r.y-=p.getTop();return r;},addTop:n('top'),addRight:n('right'),addBottom:n('bottom'),addLeft:n('left')};p.addTop(function(){var q=j('blueBar');if(q&&g.isFixed(q))return j('blueBarHolder').offsetHeight;return 0;});e.exports=p;});
__d("isAsyncScrollQuery",["UserAgent"],function(a,b,c,d,e,f){var g=b('UserAgent'),h=null;function i(){if(h===null)h=g.osx()>=10.8&&g.webkit()>=536.25&&!g.chrome();return h;}e.exports=i;});
__d("DOMScroll",["Animation","Arbiter","DOM","DOMQuery","Vector","ViewportBounds","ge","isAsyncScrollQuery"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Arbiter'),i=b('DOM'),j=b('DOMQuery'),k=b('Vector'),l=b('ViewportBounds'),m=b('ge'),n=b('isAsyncScrollQuery'),o={SCROLL:'dom-scroll',getScrollState:function(){var p=k.getViewportDimensions(),q=k.getDocumentDimensions(),r=(q.x>p.x),s=(q.y>p.y);r+=0;s+=0;return new k(r,s);},_scrollbarSize:null,_initScrollbarSize:function(){var p=i.create('p');p.style.width='100%';p.style.height='200px';var q=i.create('div');q.style.position='absolute';q.style.top='0px';q.style.left='0px';q.style.visibility='hidden';q.style.width='200px';q.style.height='150px';q.style.overflow='hidden';q.appendChild(p);document.body.appendChild(q);var r=p.offsetWidth;q.style.overflow='scroll';var s=p.offsetWidth;if(r==s)s=q.clientWidth;document.body.removeChild(q);o._scrollbarSize=r-s;},getScrollbarSize:function(){if(o._scrollbarSize===null)o._initScrollbarSize();return o._scrollbarSize;},scrollTo:function(p,q,r,s,t){if(typeof q=='undefined'||q===true)q=750;if(n())q=false;if(!(p instanceof k)){var u=k.getScrollPosition().x,v=k.getElementPosition(m(p)).y;p=new k(u,v,'document');if(!s)p.y-=l.getTop()/(r?2:1);}if(r){p.y-=k.getViewportDimensions().y/2;}else if(s){p.y-=k.getViewportDimensions().y;p.y+=s;}p=p.convertTo('document');if(q){return new g(document.body).to('scrollTop',p.y).to('scrollLeft',p.x).ease(g.ease.end).duration(q).ondone(t).go();}else if(window.scrollTo){window.scrollTo(p.x,p.y);t&&t();}h.inform(o.SCROLL);},ensureVisible:function(p,q,r,s,t){if(r===undefined)r=10;p=m(p);if(q)p=j.find(p,q);var u=k.getScrollPosition().x,v=k.getScrollPosition().y,w=v+k.getViewportDimensions().y,x=k.getElementPosition(p).y,y=x+k.getElementDimensions(p).y;x-=l.getTop();x-=r;y+=r;if(x<v){o.scrollTo(new k(u,x,'document'),s,false,false,t);}else if(y>w)if(x-(y-w)<v){o.scrollTo(new k(u,x,'document'),s,false,false,t);}else o.scrollTo(new k(u,y,'document'),s,false,true,t);},scrollToTop:function(p){var q=k.getScrollPosition();o.scrollTo(new k(q.x,0,'document'),p!==false);}};e.exports=o;});
__d("CookieCore",[],function(a,b,c,d,e,f){var g={set:function(h,i,j,k,l){document.cookie=h+"="+encodeURIComponent(i)+"; "+(j?"expires="+(new Date(Date.now()+j)).toGMTString()+"; ":"")+"path="+(k||'/')+"; domain="+window.location.hostname.replace(/^.*(\.facebook\..*)$/i,'$1')+(l?"; secure":"");},clear:function(h,i){i=i||'/';document.cookie=h+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; "+"path="+i+"; domain="+window.location.hostname.replace(/^.*(\.facebook\..*)$/i,'$1');},get:function(h){var i=document.cookie.match('(?:^|;\\s*)'+h+'=(.*?)(?:;|$)');return (i?decodeURIComponent(i[1]):i);}};e.exports=g;});
__d("Cookie",["CookieCore","Env","copyProperties"],function(a,b,c,d,e,f){var g=b('CookieCore'),h=b('Env'),i=b('copyProperties');function j(l,m,n,o,p){if(h.no_cookies&&l!='tpa')return;g.set(l,m,n,o,p);}var k=i({},g);k.set=j;e.exports=k;});
__d("goOrReplace",["URI","UserAgent"],function(a,b,c,d,e,f){var g=b('URI'),h=b('UserAgent');function i(j,k,l){var m=new g(k),n=a.Quickling;if(j.pathname=='/'&&m.getPath()!='/'&&n&&n.isActive()&&n.isPageActive(m)){var o=j.search?{}:{q:''};m=new g().setPath('/').setQueryData(o).setFragment(m.getUnqualifiedURI().toString());k=m.toString();}if(l&&!(h.ie()<8)){j.replace(k);}else if(j.href==k){j.reload();}else j.href=k;}e.exports=i;});
__d("HistoryManager",["Event","function-extensions","Cookie","Env","URI","UserAgent","copyProperties","emptyFunction","goOrReplace","isInIframe"],function(a,b,c,d,e,f){var g=b('Event');b('function-extensions');var h=b('Cookie'),i=b('Env'),j=b('URI'),k=b('UserAgent'),l=b('copyProperties'),m=b('emptyFunction'),n=b('goOrReplace'),o=b('isInIframe'),p={_IFRAME_BASE_URI:'http://static.ak.facebook.com/common/history_manager.php',history:null,current:0,fragment:null,_setIframeSrcFragment:function(q){q=q.toString();var r=p.history.length-1;p.iframe.src=p._IFRAME_BASE_URI+'?|index='+r+'#'+encodeURIComponent(q);return p;},getIframeSrcFragment:function(){return decodeURIComponent(j(p.iframe.contentWindow.document.location.href).getFragment());},nextframe:function(q,r){if(r){p._setIframeSrcFragment(q);return;}if(q!==undefined){p.iframeQueue.push(q);}else{p.iframeQueue.splice(0,1);p.iframeTimeout=null;p.checkURI();}if(p.iframeQueue.length&&!p.iframeTimeout){var s=p.iframeQueue[0];p.iframeTimeout=setTimeout(function(){p._setIframeSrcFragment(s);},100,false);}},isInitialized:function(){return !!p._initialized;},init:function(){if(!i.ALLOW_TRANSITION_IN_IFRAME&&o())return;if(p._initialized)return p;var q=j(),r=q.getFragment()||'';if(r.charAt(0)==='!'){r=r.substr(1);q.setFragment(r);}if(j.getRequestURI(false).getProtocol().toLowerCase()=='https')p._IFRAME_BASE_URI='https://s-static.ak.facebook.com/common/history_manager.php';l(p,{_initialized:true,fragment:r,orig_fragment:r,history:[q],callbacks:[],lastChanged:Date.now(),canonical:j('#'),fragmentTimeout:null,user:0,iframeTimeout:null,iframeQueue:[],enabled:true,debug:m});if(window.history&&history.pushState){this.lastURI=document.URL;window.history.replaceState(this.lastURI,null);g.listen(window,'popstate',function(s){if(s&&s.state&&p.lastURI!=s.state){p.lastURI=s.state;p.lastChanged=Date.now();p.notify(j(s.state).getUnqualifiedURI().toString());}}.bind(p));if(k.webkit()<534||k.chrome()<=13){setInterval(p.checkURI,42,false);p._updateRefererURI(this.lastURI);}return p;}p._updateRefererURI(j.getRequestURI(false));if(k.webkit()<500||k.firefox()<2){p.enabled=false;return p;}if(k.ie()<8){p.iframe=document.createElement('iframe');l(p.iframe.style,{width:'0',height:'0',frameborder:'0',left:'0',top:'0',position:'absolute'});p._setIframeSrcFragment(r);document.body.insertBefore(p.iframe,document.body.firstChild);}else if('onhashchange' in window){g.listen(window,'hashchange',function(){p.checkURI.bind(p).defer();});}else setInterval(p.checkURI,42,false);return p;},registerURIHandler:function(q){p.callbacks.push(q);return p;},setCanonicalLocation:function(q){p.canonical=j(q);return p;},notify:function(q){if(q==p.orig_fragment)q=p.canonical.getFragment();for(var r=0;r<p.callbacks.length;r++)try{if(p.callbacks[r](q))return true;}catch(s){}return false;},checkURI:function(){if(Date.now()-p.lastChanged<400)return;if(window.history&&history.pushState){var q=j(document.URL).removeQueryData('ref').toString(),r=j(p.lastURI).removeQueryData('ref').toString();if(q!=r){p.lastChanged=Date.now();p.lastURI=q;if(k.webkit()<534)p._updateRefererURI(q);p.notify(j(q).getUnqualifiedURI().toString());}return;}if(k.ie()<8&&p.iframeQueue.length)return;if(k.webkit()&&window.history.length==200){if(!p.warned)p.warned=true;return;}var s=j().getFragment();if(s.charAt(0)=='!')s=s.substr(1);if(k.ie()<8)s=p.getIframeSrcFragment();s=s.replace(/%23/g,'#');if(s!=p.fragment.replace(/%23/g,'#')){p.debug([s,' vs ',p.fragment,'whl: ',window.history.length,'QHL: ',p.history.length].join(' '));for(var t=p.history.length-1;t>=0;--t)if(p.history[t].getFragment().replace(/%23/g,'#')==s)break;++p.user;if(t>=0){p.go(t-p.current);}else p.go('#'+s);--p.user;}},_updateRefererURI:function(q){q=q.toString();if(q.charAt(0)!='/'&&q.indexOf('//')==-1)return;var r=new j(window.location);if(r.isFacebookURI()){var s=r.getPath()+window.location.search;}else var s='';var t=j(q).getQualifiedURI().setFragment(s).toString(),u=2048;if(t.length>u)t=t.substring(0,u)+'...';h.set('x-referer',t);},go:function(q,r,s){if(window.history&&history.pushState){r||typeof(q)=='number';var t=j(q).removeQueryData('ref').toString();p.lastChanged=Date.now();this.lastURI=t;if(s){window.history.replaceState(q,null,t);}else window.history.pushState(q,null,t);if(k.webkit()<534)p._updateRefererURI(q);return false;}p.debug('go: '+q);if(r===undefined)r=true;if(!p.enabled)if(!r)return false;if(typeof(q)=='number'){if(!q)return false;var u=q+p.current,v=Math.max(0,Math.min(p.history.length-1,u));p.current=v;u=p.history[v].getFragment()||p.orig_fragment;u=j(u).removeQueryData('ref').getUnqualifiedURI().toString();p.fragment=u;p.lastChanged=Date.now();if(k.ie()<8){if(p.fragmentTimeout)clearTimeout(p.fragmentTimeout);p._temporary_fragment=u;p.fragmentTimeout=setTimeout(function(){window.location.hash='#!'+u;delete p._temporary_fragment;},750,false);if(!p.user)p.nextframe(u,s);}else if(!p.user)n(window.location,window.location.href.split('#')[0]+'#!'+u,s);if(r)p.notify(u);p._updateRefererURI(u);return false;}q=j(q);if(q.getDomain()==j().getDomain())q=j('#'+q.getUnqualifiedURI());var w=p.history[p.current].getFragment(),x=q.getFragment();if(x==w||(w==p.orig_fragment&&x==p.canonical.getFragment())){if(r)p.notify(x);p._updateRefererURI(x);return false;}if(s)p.current--;var y=(p.history.length-p.current)-1;p.history.splice(p.current+1,y);p.history.push(j(q));return p.go(1,r,s);},getCurrentFragment:function(){var q=p._temporary_fragment!==undefined?p._temporary_fragment:j.getRequestURI(false).getFragment();return q==p.orig_fragment?p.canonical.getFragment():q;}};e.exports=p;});
__d("LinkController",["Event","DataStore","Parent","trackReferrer"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DataStore'),i=b('Parent'),j=b('trackReferrer'),k='LinkControllerHandler',l=[],m=[];function n(event){var r=i.byTag(event.getTarget(),'a'),s=r&&r.getAttribute('href',2);if(!s||r.rel||!p(s)||h.get(r,k))return;var t=g.listen(r,'click',function(u){if(s.charAt(s.length-1)=='#'){u.prevent();return;}j(r,s);o(r,u);});h.set(r,k,t);}function o(r,event){if(r.target||r.rel||event.getModifiers().any||(event.which&&event.which!=1))return;var s=l.concat(m);for(var t=0,u=s.length;t<u;t++)if(s[t](r,event)===false)return event.prevent();}function p(r){var s=r.match(/^(\w+):/);return !s||s[1].match(/^http/i);}var q={registerHandler:function(r){l.push(r);},registerFallbackHandler:function(r){m.push(r);}};g.listen(document.documentElement,'mousedown',n);g.listen(document.documentElement,'keydown',n);e.exports=q;});
__d("OnloadHooks",["Arbiter","ErrorUtils","InitialJSLoader","OnloadEvent"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ErrorUtils'),i=b('InitialJSLoader'),j=b('OnloadEvent');function k(){var r=a.CavalryLogger;if(!window.loaded&&r)r.getInstance().setTimeStamp('t_prehooks');n('onloadhooks');if(!window.loaded&&r)r.getInstance().setTimeStamp('t_hooks');window.loaded=true;g.inform('uipage_onload',true,g.BEHAVIOR_STATE);}function l(){n('onafterloadhooks');window.afterloaded=true;}function m(r,s){return h.applyWithGuard(r,null,null,function(t){t.event_type=s;t.category='runhook';});}function n(r){var s=(r=='onbeforeleavehooks')||(r=='onbeforeunloadhooks');do{var t=window[r];if(!t)break;if(!s)window[r]=null;for(var u=0;u<t.length;u++){var v=m(t[u],r);if(s&&v)return v;}}while(!s&&window[r]);}function o(){if(!window.loaded){window.loaded=true;n('onloadhooks');}if(!window.afterloaded){window.afterloaded=true;n('onafterloadhooks');}}function p(){g.registerCallback(k,[j.ONLOAD_DOMCONTENT_CALLBACK,i.INITIAL_JS_READY]);g.registerCallback(l,[j.ONLOAD_DOMCONTENT_CALLBACK,j.ONLOAD_CALLBACK,i.INITIAL_JS_READY]);g.subscribe(j.ONBEFOREUNLOAD,function(r,s){s.warn=n('onbeforeleavehooks')||n('onbeforeunloadhooks');if(!s.warn){window.loaded=false;window.afterloaded=false;}},g.SUBSCRIBE_NEW);g.subscribe(j.ONUNLOAD,function(r,s){n('onunloadhooks');n('onafterunloadhooks');},g.SUBSCRIBE_NEW);}var q={_onloadHook:k,_onafterloadHook:l,runHook:m,runHooks:n,keepWindowSetAsLoaded:o};p();a.OnloadHooks=e.exports=q;});
__d("areEqual",[],function(a,b,c,d,e,f){var g=function(k,l,m,n){if(k===l)return k!==0||1/k==1/l;if(k==null||l==null)return false;if(typeof k!='object'||typeof l!='object')return false;var o=Object.prototype.toString,p=o.call(k);if(p!=o.call(l))return false;switch(p){case '[object String]':return k==String(l);case '[object Number]':return isNaN(k)||isNaN(l)?false:k==Number(l);case '[object Date]':case '[object Boolean]':return +k==+l;case '[object RegExp]':return k.source==l.source&&k.global==l.global&&k.multiline==l.multiline&&k.ignoreCase==l.ignoreCase;}var q=m.length;while(q--)if(m[q]==k)return n[q]==l;m.push(k);n.push(l);var r=0;if(p==='[object Array]'){r=k.length;if(r!==l.length)return false;while(r--)if(!g(k[r],l[r],m,n))return false;}else{if(k.constructor!==l.constructor)return false;if(k.hasOwnProperty('valueOf')&&l.hasOwnProperty('valueOf'))return k.valueOf()==l.valueOf();var s=Object.keys(k);if(s.length!=Object.keys(l).length)return false;for(var t=0;t<s.length;t++)if(!g(k[s[t]],l[s[t]],m,n))return false;}m.pop();n.pop();return true;},h=[],i=[],j=function(k,l){var m=h.length?h.pop():[],n=i.length?i.pop():[],o=g(k,l,m,n);m.length=0;n.length=0;h.push(m);i.push(n);return o;};e.exports=j;});
__d("computeRelativeURI",["URI","isEmpty"],function(a,b,c,d,e,f){var g=b('URI'),h=b('isEmpty');function i(k,l){if(!l)return k;if(l.charAt(0)=='/')return l;var m=k.split('/').slice(0,-1);m[0]!=='';l.split('/').forEach(function(n){if(!(n=='.'))if(n=='..'){if(m.length>1)m=m.slice(0,-1);}else m.push(n);});return m.join('/');}function j(k,l){var m=new g(),n=l;k=new g(k);l=new g(l);if(l.getDomain()&&!l.isFacebookURI())return n;var o=k,p=['Protocol','Domain','Port','Path','QueryData','Fragment'];p.forEach(function(q){var r=q=='Path'&&o===k;if(r)m.setPath(i(k.getPath(),l.getPath()));if(!h(l['get'+q]()))o=l;if(!r)m['set'+q](o['get'+q]());});return m;}e.exports=j;});
__d("escapeJSQuotes",[],function(a,b,c,d,e,f){function g(h){if(typeof h=='undefined'||h==null||!h.valueOf())return '';return h.toString().replace(/\\/g,'\\\\').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/"/g,'\\x22').replace(/'/g,'\\\'').replace(/</g,'\\x3c').replace(/>/g,'\\x3e').replace(/&/g,'\\x26');}e.exports=g;});
__d("htmlSpecialChars",[],function(a,b,c,d,e,f){var g=/&/g,h=/</g,i=/>/g,j=/"/g,k=/'/g;function l(m){if(typeof m=='undefined'||m===null||!m.toString)return '';if(m===false){return '0';}else if(m===true)return '1';return m.toString().replace(g,'&amp;').replace(j,'&quot;').replace(k,'&#039;').replace(h,'&lt;').replace(i,'&gt;');}e.exports=l;});
__d("htmlize",["htmlSpecialChars"],function(a,b,c,d,e,f){var g=b('htmlSpecialChars');function h(i){return g(i).replace(/\r\n|[\r\n]/g,'<br/>');}e.exports=h;});
__d("setTimeoutAcrossTransitions",[],function(a,b,c,d,e,f){function g(h,i){return setTimeout(h,i,false);}e.exports=g;});
__d("startsWith",[],function(a,b,c,d,e,f){function g(h,i,j){var k=String(h);j=Math.min(Math.max(j||0,0),k.length);return k.lastIndexOf(String(i),j)===j;}e.exports=g;});
__d("PageTransitions",["Arbiter","Dialog","DOMQuery","DOMScroll","Env","Event","Form","HistoryManager","JSLogger","LinkController","OnloadHooks","Parent","URI","UserAgent","Vector","areEqual","clickRefAction","computeRelativeURI","copyProperties","escapeJSQuotes","ge","goOrReplace","htmlize","isInIframe","setTimeoutAcrossTransitions","startsWith","tx","userAction"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Dialog'),i=b('DOMQuery'),j=b('DOMScroll'),k=b('Env'),l=b('Event'),m=b('Form'),n=b('HistoryManager'),o=b('JSLogger'),p=b('LinkController'),q=b('OnloadHooks'),r=b('Parent'),s=b('URI'),t=b('UserAgent'),u=b('Vector'),v=b('areEqual'),w=b('clickRefAction'),x=b('computeRelativeURI'),y=b('copyProperties'),z=b('escapeJSQuotes'),aa=b('ge'),ba=b('goOrReplace'),ca=b('htmlize'),da=b('isInIframe'),ea=b('setTimeoutAcrossTransitions'),fa=b('startsWith'),ga=b('tx'),ha=b('userAction'),ia={};function ja(ua,va){ia[ua.getUnqualifiedURI()]=va;}function ka(ua){return ia[ua.getUnqualifiedURI()];}function la(ua){delete ia[ua.getUnqualifiedURI()];}var ma=null,na=null;function oa(ua){na=ua;ea(function(){na=null;},0);}function pa(event){if(na){if(!event.isDefaultPrevented()){qa(na);ta.lookBusy(na);sa.go(na.getAttribute('href'));}event.prevent();}else{ma=event.getTarget();ea(function(){ma=null;},0);}}function qa(ua){var va=ua.getAttribute('href'),wa=x(sa._most_recent_uri.getQualifiedURI(),va).toString();if(va!=wa)ua.setAttribute('href',wa);}function ra(event){var ua=event.getTarget();if(m.getAttribute(ua,'rel')||m.getAttribute(ua,'target'))return;w('form',ua,event).set_namespace('page_transition');var va=ha('page_transitions',ua,event,{mode:'DEDUP'}).uai_fallback(null,'form'),wa=new s(m.getAttribute(ua,'action')||''),xa=x(sa._most_recent_uri,wa);ua.setAttribute('action',xa.toString());if((m.getAttribute(ua,'method')||'GET').toUpperCase()==='GET'){var ya=m.serialize(ua),za=ma;if(za&&(i.isNodeOfType(za,'input')&&za.type==='submit'||(za=r.byTag(za,'button')))&&za.name)ya[za.name]=za.value;sa.go(xa.addQueryData(ya));event.kill();}}var sa={_transition_handlers:[],_scroll_locked:false,isInitialized:function(){return !!sa._initialized;},_init:function(){if(k.DISABLE_PAGE_TRANSITIONS)return;if(!k.ALLOW_TRANSITION_IN_IFRAME&&da())return;if(sa._initialized)return sa;sa._initialized=true;var ua=s.getRequestURI(false),va=ua.getUnqualifiedURI(),wa=s(va).setFragment(null),xa=va.getFragment();if(xa.charAt(0)==='!'&&wa.toString()===xa.substr(1))va=wa;y(sa,{_current_uri:va,_most_recent_uri:va,_next_uri:va});var ya;if(fa(ua.getFragment(),'/')){ya=ua.getFragment();}else ya=va;n.init().setCanonicalLocation('#'+ya).registerURIHandler(sa._historyManagerHandler);p.registerFallbackHandler(oa);l.listen(document,'click',pa,l.Priority._BUBBLE);l.listen(document,'submit',ra,l.Priority._BUBBLE);l.listen(window,'scroll',function(){if(!sa._scroll_locked)ja(sa._current_uri,u.getScrollPosition());});return sa;},registerHandler:function(ua,va){sa._init();va=va||5;if(!sa._transition_handlers[va])sa._transition_handlers[va]=[];sa._transition_handlers[va].push(ua);},getCurrentURI:function(ua){if(!sa._current_uri&&!ua)return new s(sa._most_recent_uri);return new s(sa._current_uri);},getMostRecentURI:function(){return new s(sa._most_recent_uri);},getNextURI:function(){return new s(sa._next_uri);},go:function(ua,va){var wa=new s(ua).removeQueryData('quickling').getQualifiedURI();o.create('pagetransition').debug('go',{uri:wa.toString()});la(wa);!va&&w('uri',{href:wa.toString()},null,'INDIRECT');ta.lookBusy();sa._loadPage(wa,function(xa){if(xa){n.go(wa.toString(),false,va);}else ba(window.location,wa,va);});},_historyManagerHandler:function(ua){if(ua.charAt(0)!='/')return false;w('h',{href:ua});ha('page_transitions').uai(null,'history_manager');sa._loadPage(new s(ua),function(va){if(!va)ba(window.location,ua,true);});return true;},_loadPage:function(ua,va){if(s(ua).getFragment()&&v(s(ua).setFragment(null).getQualifiedURI(),s(sa._current_uri).setFragment(null).getQualifiedURI()))if(sa.restoreScrollPosition(ua)){sa._current_uri=sa._most_recent_uri=ua;ta.stopLookingBusy();return;}var wa;if(sa._current_uri)wa=ka(sa._current_uri);sa._current_uri=null;sa._next_uri=ua;if(wa)j.scrollTo(wa,false);var xa=function(){sa._scroll_locked=true;var za=sa._handleTransition(ua);va&&va(za);},ya=q.runHooks('onbeforeleavehooks');if(ya){ta.stopLookingBusy();sa._warnBeforeLeaving(ya,xa);}else xa();},_handleTransition:function(ua){window.onbeforeleavehooks=undefined;ta.lookBusy();if(!ua.isSameOrigin())return false;var va,wa=a.AsyncRequest;if(wa)va=wa.getLastID();g.inform("pre_page_transition",{from:sa.getMostRecentURI(),to:ua});for(var xa=sa._transition_handlers.length-1;xa>=0;--xa){var ya=sa._transition_handlers[xa];if(!ya)continue;for(var za=ya.length-1;za>=0;--za)if(ya[za](ua)===true){var ab={sender:this,uri:ua,id:va};try{g.inform("page_transition",ab);}catch(bb){}return true;}else ya.splice(za,1);}return false;},unifyURI:function(){sa._current_uri=sa._most_recent_uri=sa._next_uri;},transitionComplete:function(ua){sa._executeCompletionCallback();ta.stopLookingBusy();sa.unifyURI();if(!ua)sa.restoreScrollPosition(sa._current_uri);try{if(document.activeElement&&document.activeElement.nodeName==='A')document.activeElement.blur();}catch(va){}},_executeCompletionCallback:function(){if(sa._completionCallback)sa._completionCallback();sa._completionCallback=null;},setCompletionCallback:function(ua){sa._completionCallback=ua;},rewriteCurrentURI:function(ua,va){sa.registerHandler(function(){if(ua==sa.getMostRecentURI().getUnqualifiedURI().toString()){sa.transitionComplete();return true;}});sa.go(va,true);},_warnBeforeLeaving:function(ua,va){new h().setTitle("Are you sure you want to leave this page?").setBody(ca(ua)).setButtons([{name:'leave_page',label:"Leave this Page",handler:va},{name:'continue_editing',label:"Stay on this Page",className:'inputaux'}]).setModal(true).show();},restoreScrollPosition:function(ua){sa._scroll_locked=false;var va=ka(ua);if(va){j.scrollTo(va,false);return true;}function wa(za){if(!za)return null;var ab="a[name='"+z(za)+"']";return i.scry(document.body,ab)[0]||aa(za);}var xa=wa(s(ua).getFragment());if(xa){var ya=u.getElementPosition(xa);ya.x=0;j.scrollTo(ya);return true;}return false;}},ta=window._BusyUIManager||{_looking_busy:false,_original_cursors:[],lookBusy:function(ua){if(ua)ta._giveProgressCursor(ua);if(ta._looking_busy)return;ta._looking_busy=true;ta._giveProgressCursor(document.documentElement);},stopLookingBusy:function(){if(!ta._looking_busy)return;ta._looking_busy=false;while(ta._original_cursors.length){var ua=ta._original_cursors.pop(),va=ua[0],wa=ua[1];if(va.style)va.style.cursor=wa||'';}},_giveProgressCursor:function(ua){if(!t.webkit()){ta._original_cursors.push([ua,ua.style.cursor]);ua.style.cursor='progress';}}};e.exports=sa;a.PageTransitions=sa;});
__d("LayerHideOnTransition",["function-extensions","PageTransitions","copyProperties"],function(a,b,c,d,e,f){b('function-extensions');var g=b('PageTransitions'),h=b('copyProperties');function i(j){this._layer=j;}i.prototype.enable=function(){this._enabled=true;if(!this._subscribed)this._subscribe.bind(this).defer();};i.prototype.disable=function(){this._enabled=false;};i.prototype._handler=function(){if(this._enabled)this._layer.hide();this._subscribe();};i.prototype._subscribe=function(){g.registerHandler(this._handler.bind(this));this._subscribed=true;};h(i.prototype,{_enabled:false,_subscribed:false});e.exports=i;});
__d("Rect",["Vector","$","copyProperties"],function(a,b,c,d,e,f){var g=b('Vector'),h=b('$'),i=b('copyProperties');function j(k,l,m,n,o){if(arguments.length===1){if(k instanceof j)return k;if(k instanceof g)return new j(k.y,k.x,k.y,k.x,k.domain);return j.getElementBounds(h(k));}i(this,{t:k,r:l,b:m,l:n,domain:o||'pure'});}j.prototype.w=function(){return this.r-this.l;};j.prototype.h=function(){return this.b-this.t;};j.prototype.toString=function(){return '(('+this.l+', '+this.t+'), ('+this.r+', '+this.b+'))';};j.prototype.contains=function(k){k=new j(k).convertTo(this.domain);var l=this;return (l.l<=k.l&&l.r>=k.r&&l.t<=k.t&&l.b>=k.b);};j.prototype.add=function(k,l){if(arguments.length==1){if(k.domain!='pure')k=k.convertTo(this.domain);return this.add(k.x,k.y);}var m=parseFloat(k),n=parseFloat(l);return new j(this.t+n,this.r+m,this.b+n,this.l+m,this.domain);};j.prototype.sub=function(k,l){if(arguments.length==1){return this.add(k.mul(-1));}else return this.add(-k,-l);};j.prototype.rotateAroundOrigin=function(k){var l=this.getCenter().rotate(k*Math.PI/2),m,n;if(k%2){m=this.h();n=this.w();}else{m=this.w();n=this.h();}var o=l.y-n/2,p=l.x-m/2,q=o+n,r=p+m;return new j(o,r,q,p,this.domain);};j.prototype.boundWithin=function(k){var l=0,m=0;if(this.l<k.l){l=k.l-this.l;}else if(this.r>k.r)l=k.r-this.r;if(this.t<k.t){m=k.t-this.t;}else if(this.b>k.b)m=k.b-this.b;return this.add(l,m);};j.prototype.getCenter=function(){return new g(this.l+this.w()/2,this.t+this.h()/2,this.domain);};j.prototype.getPositionVector=function(){return new g(this.l,this.t,this.domain);};j.prototype.getDimensionVector=function(){return new g(this.w(),this.h(),'pure');};j.prototype.convertTo=function(k){if(this.domain==k)return this;if(k=='pure')return new j(this.t,this.r,this.b,this.l,'pure');if(this.domain=='pure')return new j(0,0,0,0);var l=new g(this.l,this.t,this.domain).convertTo(k);return new j(l.y,l.x+this.w(),l.y+this.h(),l.x,k);};j.deserialize=function(k){var l=k.split(':');return new j(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]),parseFloat(l[0]));};j.newFromVectors=function(k,l){return new j(k.y,k.x+l.x,k.y+l.y,k.x,k.domain);};j.getElementBounds=function(k){return j.newFromVectors(g.getElementPosition(k),g.getElementDimensions(k));};j.getViewportBounds=function(){return j.newFromVectors(g.getScrollPosition(),g.getViewportDimensions());};j.minimumBoundingBox=function(k){var l=new j(Math.min(),Math.max(),Math.max(),Math.min()),m;for(var n=0;n<k.length;n++){m=k[n];l.t=Math.min(l.t,m.t);l.r=Math.max(l.r,m.r);l.b=Math.max(l.b,m.b);l.l=Math.min(l.l,m.l);}return l;};e.exports=j;});
__d("SVGChecker",[],function(a,b,c,d,e,f){e.exports={isSVG:function(g){return !!g.ownerSVGElement||g.tagName.toLowerCase()==="svg";},isDisplayed:function(g){try{var i=g.getBBox();if(i&&(i.height===0||i.width===0))return false;}catch(h){return false;}return true;}};});
__d("arrayContains",[],function(a,b,c,d,e,f){function g(h,i){return h.indexOf(i)!=-1;}e.exports=g;});
__d("throttle",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(j,k,l){return i(j,k,l,false,false);}g(h,{acrossTransitions:function(j,k,l){return i(j,k,l,true,false);},withBlocking:function(j,k,l){return i(j,k,l,false,true);}});function i(j,k,l,m,n){if(k==null)k=100;var o,p,q;function r(){p=Date.now();if(o){j.apply(l,o);o=null;q=setTimeout(r,k,!m);}else q=false;}return function s(){o=arguments;if(!q||(Date.now()-p>k))if(n){r();}else q=setTimeout(r,0,!m);};}e.exports=h;});
__d("ContextualLayer",["Arbiter","ARIA","ContextualThing","CSS","DataStore","DOM","Event","Layer","LayerHideOnTransition","Locale","Parent","Rect","Style","SVGChecker","Vector","arrayContains","copyProperties","emptyFunction","getOverlayZIndex","removeFromArray","throttle"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ARIA'),i=b('ContextualThing'),j=b('CSS'),k=b('DataStore'),l=b('DOM'),m=b('Event'),n=b('Layer'),o=b('LayerHideOnTransition'),p=b('Locale'),q=b('Parent'),r=b('Rect'),s=b('Style'),t=b('SVGChecker'),u=b('Vector'),v=b('arrayContains'),w=b('copyProperties'),x=b('emptyFunction'),y=b('getOverlayZIndex'),z=b('removeFromArray'),aa=b('throttle');function ba(ka){return ka.getPosition()==='left'||(ka.isVertical()&&ka.getAlignment()==='right');}function ca(ka){var la=ka.parentNode;if(la){var ma=s.get(la,'position');if(ma==='static'){if(la===document.body){la=document.documentElement;}else la=ca(la);}else return la;}else la=document.documentElement;return la;}for(var da in n)if(n.hasOwnProperty(da))fa[da]=n[da];var ea=n===null?null:n.prototype;fa.prototype=Object.create(ea);fa.prototype.constructor=fa;fa.__superConstructor__=n;function fa(){if(n!==null)n.apply(this,arguments);}fa.prototype._configure=function(ka,la){ea._configure.call(this,ka,la);if(ka.context){this.setContext(ka.context);}else if(ka.contextID){this._setContextID(ka.contextID);}else if(ka.contextSelector)this._setContextSelector(ka.contextSelector);this.setPosition(ka.position);this.setAlignment(ka.alignment);this.setOffsetX(ka.offsetX);this.setOffsetY(ka.offsetY);this._content=la;};fa.prototype._getDefaultBehaviors=function(){return ea._getDefaultBehaviors.call(this).concat([o]);};fa.prototype._buildWrapper=function(ka,la){this._contentWrapper=l.create('div',{className:'uiContextualLayer'},la);return l.create('div',{className:'uiContextualLayerPositioner'},this._contentWrapper);};fa.prototype.getInsertParent=function(){var ka=this._insertParent;if(!ka){var la=this.getContext();if(la)ka=q.byClass(la,'uiContextualLayerParent');}return ka||ea.getInsertParent.call(this);};fa.prototype.setContent=function(ka){this._content=ka;l.setContent(this._contentWrapper,this._content);this._shown&&this.updatePosition();return this;};fa.prototype.setContext=function(ka){return this.setContextWithBounds(ka,null);};fa.prototype.setContextWithBounds=function(ka,la){this._contextNode=ka;this._contextBounds=la||null;this._contextSelector=this._contextScrollParent=null;if(this._shown){i.register(this.getRoot(),this._contextNode);this.updatePosition();}this._setParentSubscription();this.setARIAProperties();return this;};fa.prototype.shouldSetARIAProperties=function(ka){this._shouldSetARIAProperties=ka;return this;};fa.prototype.setARIAProperties=function(){if(this._shouldSetARIAProperties)h.setPopup(this.getCausalElement(),this.getRoot());return this;};fa.prototype._setContextID=function(ka){this._contextSelector='#'+ka;this._contextNode=null;};fa.prototype._setContextSelector=function(ka){this._contextSelector=ka;this._contextNode=null;};fa.prototype.getCausalElement=function(){return ea.getCausalElement.call(this)||this.getContext();};fa.prototype._setParentSubscription=function(){var ka=this.getContext(),la=null;while(ka!==null){la=k.get(ka,'layer');if(la)break;ka=ka.parentNode;}if(la===this._parentLayer)return;if(this._parentLayer&&this._parentSubscription){this._parentLayer.unsubscribe(this._parentSubscription);this._parentSubscription=null;}if(la)this._parentSubscription=la.subscribe('hide',this.hide.bind(this));this._parentLayer=la;};fa.prototype.setPosition=function(ka){if(this._getOrientation().setDefaultPosition(ka))this._shown&&this.updatePosition();return this;};fa.prototype.setAlignment=function(ka){if(this._getOrientation().setDefaultAlignment(ka))this._shown&&this.updatePosition();return this;};fa.prototype.setOffsetX=function(ka){if(this._getOrientation().setDefaultOffsetX(ka))this._shown&&this.updatePosition();return this;};fa.prototype.setOffsetY=function(ka){if(this._getOrientation().setDefaultOffsetY(ka))this._shown&&this.updatePosition();return this;};fa.prototype.getPosition=function(){return this._getOrientation().getPosition();};fa.prototype._getOrientation=function(){if(!this._orientation)this._orientation=new ja();return this._orientation;};fa.prototype.getContentRoot=function(){return this._contentWrapper;};fa.prototype.getContent=function(){return this._content;};fa.prototype.getContext=function(){if(!this._contextNode)this._contextNode=l.find(document,this._contextSelector);return this._contextNode;};fa.prototype.getContextBounds=function(ka){if(this._contextBounds)return this._contextBounds.convertTo(ka);var la=this.getContext();return r.newFromVectors(u.getElementPosition(la,ka),u.getElementDimensions(la));};fa.prototype.getContextScrollParent=function(){if(!this._contextScrollParent)this._contextScrollParent=s.getScrollParent(this.getContext());return this._contextScrollParent;};fa.prototype.setInsertParent=function(ka){this._insertScrollParent=null;return ea.setInsertParent.call(this,ka);};fa.prototype.getInsertScrollParent=function(){if(!this._insertScrollParent)this._insertScrollParent=s.getScrollParent(this.getInsertParent());return this._insertScrollParent;};fa.prototype.show=function(){if(this._shown)return this;ea.show.call(this);if(this._shown){i.register(this.getRoot(),this.getContext());ga.push(this);this._resizeListener=this._resizeListener||m.listen(window,'resize',aa(this.updatePosition.bind(this)));}return this;};fa.prototype.finishHide=function(){z(ga,this);this._resizeListener&&this._resizeListener.remove();this._resizeListener=null;return ea.finishHide.call(this);};fa.prototype.isFixed=function(){return (s.isFixed(this.getContext())&&!s.isFixed(this.getInsertParent()));};fa.prototype.updatePosition=function(){var ka=this.getContext();if(!ka)return false;var la=this.isFixed();if(!la&&!(ka.offsetParent||(t.isSVG(ka)&&t.isDisplayed(ka))))return false;var ma=this.getRoot();s.set(ma,'width',u.getViewportDimensions().x+'px');var na=this._getOrientation();this.inform('adjust',na.reset());if(!na.isValid())return false;this._updateWrapperPosition(na);this._updateWrapperClass(na);j.conditionClass(ma,'uiContextualLayerPositionerFixed',la);var oa,pa,qa=la?'viewport':'document',ra=la?document.documentElement:ca(ma);if(ra===document.documentElement){oa=new u(0,0);pa=document.documentElement.clientWidth;}else if(!ma.offsetParent){return false;}else{oa=u.getElementPosition(ra,qa);pa=ra.offsetWidth;if(ra!==document.body)oa=oa.sub(new u(ra.scrollLeft,ra.scrollTop));}var sa=this.getContextBounds(qa),ta=sa.l-oa.x,ua=sa.t-oa.y,va=sa.h(),wa=sa.w(),xa=p.isRTL();if(na.getPosition()==='below')ua+=va;if((na.getPosition()==='right'||(na.isVertical()&&na.getAlignment()==='right'))!=xa)ta+=wa;var ya=na.getOffsetX();if(na.isVertical()&&na.getAlignment()==='center')ya+=(wa-this.getContentRoot().offsetWidth)/2;if(xa)ya*=-1;var za='left',ab=Math.floor(ta+ya);if(ba(na)!==xa){za='right';ab=pa-ab;}s.set(ma,za,ab+'px');s.set(ma,za==='left'?'right':'left','');var bb=this.getInsertScrollParent(),cb;if(bb!==window){cb=bb.clientWidth;}else cb=document.documentElement.clientWidth;var db=u.getElementPosition(ma).x;if(za==='left'){if(cb-db>0){s.set(ma,'width',(cb-db)+'px');}else s.set(ma,'width','');}else s.set(ma,'width',db+ma.offsetWidth+'px');s.set(ma,'top',(ua+na.getOffsetY())+'px');var eb=y(ka,this.getInsertParent());s.set(ma,'z-index',eb>200?eb:'');this.inform('reposition',na);return true;};fa.prototype._updateWrapperPosition=function(ka){var la=ka.getPosition()==='above';s.set(this._contentWrapper,'bottom',la?'0':null);var ma=p.isRTL()?'left':'right',na=ba(ka);s.set(this._contentWrapper,ma,na?'0':null);};fa.prototype._updateWrapperClass=function(ka){var la=ka.getClassName();if(la===this._orientationClass)return;if(this._orientationClass)j.removeClass(this._contentWrapper,this._orientationClass);this._orientationClass=la;j.addClass(this._contentWrapper,la);};fa.prototype.simulateOrientation=function(ka,la){var ma=ka.getClassName();if(ma===this._orientationClass){return la();}else{if(this._orientationClass)j.removeClass(this._contentWrapper,this._orientationClass);j.addClass(this._contentWrapper,ma);var na=la();j.removeClass(this._contentWrapper,ma);if(this._orientationClass)j.addClass(this._contentWrapper,this._orientationClass);return na;}};fa.prototype.destroy=function(){ea.destroy.call(this);this._contentWrapper=null;this._content=null;return this;};fa.prototype.getArrowDimensions=function(){return this._config.arrowDimensions||{offset:0,length:0};};var ga=[];g.subscribe('reflow',function(){ga.forEach(function(ka){if(ka.updatePosition()===false)ka.hide();});});w(fa.prototype,{_contentWrapper:null,_content:null,_contextNode:null,_contextBounds:null,_contextSelector:null,_parentLayer:null,_parentSubscription:null,_orientation:null,_orientationClass:null,_shouldSetARIAProperties:true});var ha=x.thatReturnsArgument,ia=x.thatReturnsArgument;function ja(){this._default={_position:'above',_alignment:'left',_offsetX:0,_offsetY:0,_valid:true};this.reset();}ja.prototype.setPosition=function(ka){this._position=ha(ka);return this;};ja.prototype.setAlignment=function(ka){this._alignment=ia(ka);return this;};ja.prototype.getOppositePosition=function(){return ja.OPPOSITE[this.getPosition()];};ja.prototype.invalidate=function(){this._valid=false;return this;};ja.prototype.getPosition=function(){return this._position||'above';};ja.prototype.getAlignment=function(){return this._alignment||'left';};ja.prototype.getOffsetX=function(){var ka=this._offsetX||0;if(!this.isVertical()){if(this._default._position!==this._position)ka*=-1;}else if(this._default._alignment!==this._alignment)ka*=-1;return ka;};ja.prototype.getOffsetY=function(){var ka=this._offsetY||0;if(this.isVertical()&&this._default._position!==this._position)ka*=-1;return ka;};ja.prototype.getClassName=function(){var ka=this.getAlignment(),la=this.getPosition();if(la==='below'){if(ka==='left'){return 'uiContextualLayerBelowLeft';}else if(ka==='right'){return 'uiContextualLayerBelowRight';}else return 'uiContextualLayerBelowCenter';}else if(la==='above'){if(ka==='left'){return 'uiContextualLayerAboveLeft';}else if(ka==='right'){return 'uiContextualLayerAboveRight';}else return 'uiContextualLayerAboveCenter';}else if(la==='left'){return 'uiContextualLayerLeft';}else return 'uiContextualLayerRight';};ja.prototype.isValid=function(){return this._valid;};ja.prototype.isVertical=function(){return this.getPosition()==='above'||this.getPosition()==='below';};ja.prototype.reset=function(ka,la){w(this,this._default);return this;};ja.prototype.setDefaultPosition=function(ka){var la=this._default._position;this._default._position=ha(ka);return la!==ka;};ja.prototype.setDefaultAlignment=function(ka){var la=this._default._alignment;this._default._alignment=ia(ka);return la!==ka;};ja.prototype.setDefaultOffsetX=function(ka){var la=this._default._offsetX;this._default._offsetX=ka;return la!==ka;};ja.prototype.setDefaultOffsetY=function(ka){var la=this._default._offsetY;this._default._offsetY=ka;return la!==ka;};ja.OPPOSITE={above:'below',below:'above',left:'right',right:'left'};e.exports=fa;});
__d("ContextualLayerDimensions",["DOM","Locale","Rect","Vector","ViewportBounds","ge","getOverlayZIndex"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('Locale'),i=b('Rect'),j=b('Vector'),k=b('ViewportBounds'),l=b('ge'),m=b('getOverlayZIndex'),n={getViewportRect:function(o){var p=l('globalContainer'),q=o.getContext(),r=(p&&g.contains(p,q))||m(q)<300,s=i.getViewportBounds();if(r){s.t+=k.getTop();if(h.isRTL()){s.r-=k.getLeft();s.l+=k.getRight();}else{s.r-=k.getRight();s.l+=k.getLeft();}}return s;},getLayerRect:function(o,p){var q=o.getContextBounds('viewport'),r=o.simulateOrientation(p,function(){return j.getElementDimensions(o.getContent());}),s=q.t+p.getOffsetY();if(p.getPosition()==='above'){s-=r.y;}else if(p.getPosition()==='below')s+=q.b-q.t;var t=q.l+p.getOffsetX(),u=q.r-q.l;if(p.isVertical()){var v=p.getAlignment();if(v==='center'){t+=(u-r.x)/2;}else if((v==='right')!==h.isRTL())t+=u-r.x;}else if((p.getPosition()==='right')!==h.isRTL()){t+=u;}else t-=r.x;return new i(s,t+r.x,s+r.y,t,'viewport');}};e.exports=n;});
__d("ContextualLayerAutoFlip",["ContextualLayerDimensions","DOM","Vector","Rect","arrayContains","copyProperties"],function(a,b,c,d,e,f){var g=b('ContextualLayerDimensions'),h=b('DOM'),i=b('Vector'),j=b('Rect'),k=b('arrayContains'),l=b('copyProperties');function m(o,p){p=new j(p).convertTo(o.domain);var q=Math.max(o.l,p.l),r=Math.min(o.r,p.r);return Math.max(r-q,0);}function n(o){this._layer=o;}n.prototype.enable=function(){this._subscription=this._layer.subscribe('adjust',this._adjustOrientation.bind(this));if(this._layer.isShown())this._layer.updatePosition();};n.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;if(this._layer.isShown())this._layer.updatePosition();};n.prototype._adjustOrientation=function(o,p){var q=this._getValidPositions(p);if(!q.length){p.invalidate();return;}var r=g.getViewportRect(this._layer),s=this._getValidAlignments(p),t,u,v;for(t=0;t<s.length;t++){p.setAlignment(s[t]);for(u=0;u<q.length;u++){p.setPosition(q[u]);v=g.getLayerRect(this._layer,p);if(r.contains(v))return;}}p.setPosition(k(q,'below')?'below':q[0]);var w,x=0,y=0;for(t=0;t<s.length;t++){p.setAlignment(s[t]);v=g.getLayerRect(this._layer,p);w=m(r,v);if(w>y){y=w;x=t;}}p.setAlignment(s[x]);};n.prototype._getValidPositions=function(o){var p=[o.getPosition(),o.getOppositePosition()],q=this._layer.getContextScrollParent();if(q===window||q===h.getDocumentScrollElement())return p;var r=this._layer.getContext(),s=i.getElementPosition(q,'viewport').y,t=i.getElementPosition(r,'viewport').y;if(o.isVertical()){return p.filter(function(v){if(v==='above'){return t>=s;}else{var w=s+q.offsetHeight,x=t+r.offsetHeight;return x<=w;}});}else{var u=s+q.offsetHeight;if(t>=s&&t+r.offsetHeight<=u){return p;}else return [];}};n.prototype._getValidAlignments=function(o){var p=['left','right','center'],q=o.getAlignment(),r=p.indexOf(q);if(r>0){p.splice(r,1);p.unshift(q);}return p;};l(n.prototype,{_subscription:null});e.exports=n;});
__d("ContextualLayerHideOnScroll",["Event","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties');function i(j){this._layer=j;}i.prototype.enable=function(){this._subscriptions=[this._layer.subscribe('contextchange',this._handleContextChange.bind(this)),this._layer.subscribe('show',this.attach.bind(this)),this._layer.subscribe('hide',this.detach.bind(this))];};i.prototype.disable=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach();};i.prototype.attach=function(){if(this._listener)return;var j=this._layer.getContextScrollParent();if(j===window)return;this._listener=g.listen(j,'scroll',this._layer.hide.bind(this._layer));};i.prototype.detach=function(){this._listener&&this._listener.remove();this._listener=null;};i.prototype._handleContextChange=function(){this.detach();if(this._layer.isShown())this.attach();};h(i.prototype,{_subscriptions:[]});e.exports=i;});
__d("ContextualTypeaheadView",["BucketedTypeaheadView","CSS","ContextualLayer","ContextualLayerAutoFlip","ContextualLayerHideOnScroll","DOM","DOMDimensions","Style"],function(a,b,c,d,e,f){var g=b('BucketedTypeaheadView'),h=b('CSS'),i=b('ContextualLayer'),j=b('ContextualLayerAutoFlip'),k=b('ContextualLayerHideOnScroll'),l=b('DOM'),m=b('DOMDimensions'),n=b('Style');for(var o in g)if(g.hasOwnProperty(o))q[o]=g[o];var p=g===null?null:g.prototype;q.prototype=Object.create(p);q.prototype.constructor=q;q.__superConstructor__=g;function q(){if(g!==null)g.apply(this,arguments);}q.prototype.init=function(){this.initializeLayer();p.init.call(this);};q.prototype.initializeLayer=function(){this.context=this.getContext();this.wrapper=l.create('div');l.appendContent(this.wrapper,this.element);h.addClass(this.element,'uiContextualTypeaheadView');this.layer=new i({context:this.context,position:'below',alignment:this.alignment,causalElement:this.causalElement,permanent:true},this.wrapper);this.layer.enableBehavior(k);if(n.isFixed(this.context)||this.autoflip)this.layer.enableBehavior(j);this.subscribe('render',this.renderLayer.bind(this));};q.prototype.show=function(){if(this.minWidth){n.set(this.wrapper,'min-width',this.minWidth+'px');}else if(this.width){n.set(this.wrapper,'width',this.width+'px');}else n.set(this.wrapper,'width',m.getElementDimensions(this.context).width+'px');var r=p.show.call(this);this.layer.show();return r;};q.prototype.hide=function(){this.layer.hide();return p.hide.call(this);};q.prototype.renderLayer=function(){if(!this.isVisible())return;if(this.layer.isShown()){this.layer.updatePosition();}else this.layer.show();};q.prototype.clearText=function(){this.layer.getCausalElement().value='';};q.prototype.getContext=function(){return this.element.parentNode;};e.exports=q;});
__d("TokenizeUtil",["repeatString"],function(a,b,c,d,e,f){var g=b('repeatString'),h=/[ ]+/g,i=/[^ ]+/g,j=new RegExp(k(),'g');function k(){return '[.,+*?$|#{}()\'\\^\\-\\[\\]\\\\\\/!@%"~=<>_:;'+'\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f'+'\uff3b-\uff40\uff5b-\uff65\u2E2E\u061f\u066a-\u066c\u061b\u060c\u060d'+'\uFD3e\uFD3F\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e'+'\u00a1-\u00b1\u00b4-\u00b8\u00ba\u00bb\u00bf]';}var l={},m={a:"\u0430 \u00e0 \u00e1 \u00e2 \u00e3 \u00e4 \u00e5",b:"\u0431",c:"\u0446 \u00e7 \u010d",d:"\u0434 \u00f0 \u010f \u0111",e:"\u044d \u0435 \u00e8 \u00e9 \u00ea \u00eb \u011b",f:"\u0444",g:"\u0433 \u011f",h:"\u0445 \u0127",i:"\u0438 \u00ec \u00ed \u00ee \u00ef \u0131",j:"\u0439",k:"\u043a \u0138",l:"\u043b \u013e \u013a \u0140 \u0142",m:"\u043c",n:"\u043d \u00f1 \u0148 \u0149 \u014b",o:"\u043e \u00f8 \u00f6 \u00f5 \u00f4 \u00f3 \u00f2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \u00fe",u:"\u0443 \u044e \u00fc \u00fb \u00fa \u00f9 \u016f",v:"\u0432",y:"\u044b \u00ff \u00fd",z:"\u0437 \u017e",ae:"\u00e6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\u00df",ya:"\u044f"};for(var n in m){var o=m[n].split(' ');for(var p=0;p<o.length;p++)l[o[p]]=n;}var q={};function r(x){return x?x.replace(j,' '):'';}function s(x){x=x.toLowerCase();var y='',z='';for(var aa=x.length;aa--;){z=x.charAt(aa);y=(l[z]||z)+y;}return y.replace(h,' ');}function t(x){var y=[],z=i.exec(x);while(z){z=z[0];y.push(z);z=i.exec(x);}return y;}function u(x,y){if(!q.hasOwnProperty(x)){var z=s(x),aa=r(z);q[x]={value:x,flatValue:z,tokens:t(aa),isPrefixQuery:aa&&aa[aa.length-1]!=' '};}if(y&&typeof q[x].sortedTokens=='undefined'){q[x].sortedTokens=q[x].tokens.slice();q[x].sortedTokens.sort(function(ba,ca){return ca.length-ba.length;});}return q[x];}function v(x,y,z){var aa=u(y,x=='prefix'),ba=x=='prefix'?aa.sortedTokens:aa.tokens,ca=u(z).tokens,da={},ea=aa.isPrefixQuery&&x=='query'?ba.length-1:null,fa=function(ga,ha){for(var ia=0;ia<ca.length;++ia){var ja=ca[ia];if(!da[ia]&&(ja==ga||((x=='query'&&ha===ea||x=='prefix')&&ja.indexOf(ga)===0)))return (da[ia]=true);}return false;};return Boolean(ba.length&&ba.every(fa));}var w={flatten:s,parse:u,getPunctuation:k,isExactMatch:v.bind(null,'exact'),isQueryMatch:v.bind(null,'query'),isPrefixMatch:v.bind(null,'prefix')};e.exports=w;});
__d("KanaUtils",[],function(a,b,c,d,e,f){var g=12353,h=12436,i=96,j={normalizeHiragana:function(k){if(k!==null){var l=[];for(var m=0;m<k.length;m++){var n=k.charCodeAt(m);if(n<g||n>h){l.push(k.charAt(m));}else{var o=n+i;l.push(String.fromCharCode(o));}}return l.join("");}else return null;}};e.exports=j;});
__d("DataSource",["ArbiterMixin","AsyncRequest","TokenizeUtil","copyProperties","createArrayFrom","createObjectFrom","emptyFunction","KanaUtils","mixin"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('AsyncRequest'),i=b('TokenizeUtil'),j=b('copyProperties'),k=b('createArrayFrom'),l=b('createObjectFrom'),m=b('emptyFunction'),n=b('KanaUtils'),o=b('mixin'),p=o(g);for(var q in p)if(p.hasOwnProperty(q))s[q]=p[q];var r=p===null?null:p.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=p;function s(t){this._maxResults=t.maxResults||10;this.token=t.token;this.queryData=t.queryData||{};this.queryEndpoint=t.queryEndpoint||'';this.bootstrapData=t.bootstrapData||{};this.bootstrapEndpoint=t.bootstrapEndpoint||'';this._indexedFields=t.indexedFields||['text','tokens'];this._titleFields=t.titleFields||[];this._alwaysPrefixMatch=t.alwaysPrefixMatch||false;this._deduplicationKey=t.deduplicationKey||null;this._enabledQueryCache=t.enabledQueryCache||true;this._queryExactMatch=t.queryExactMatch||false;this._acrossTransitions=t.acrossTransitions||false;this._kanaNormalization=t.kanaNormalization||false;this._minQueryLength=t.minQueryLength||-1;this._minExactMatchLength=4;this._filters=[];this.setExclusions(t.exclusions);}s.prototype.init=function(){this.init=m;this._fields=l(this._indexedFields);this._activeQueries=0;this.dirty();};s.prototype.dirty=function(){this.value='';this._bootstrapped=false;this._bootstrapping=false;this._data={};this.localCache={};this.queryCache={};this.inform('dirty',{});return this;};s.prototype.bootstrap=function(){if(this._bootstrapped)return;this.bootstrapWithoutToken();this._bootstrapped=true;this._bootstrapping=true;this.inform('bootstrap',{bootstrapping:true});};s.prototype.bootstrapWithoutToken=function(){this.fetch(this.bootstrapEndpoint,this.bootstrapData,{bootstrap:true,token:this.token});};s.prototype.bootstrapWithToken=function(){var t=j({},this.bootstrapData);t.token=this.token;this.fetch(this.bootstrapEndpoint,t,{bootstrap:true,replaceCache:true});};s.prototype.query=function(t,u,v,w){this.inform('beforeQuery',{value:t,local_only:u,exclusions:v,time_waited:w});if(!this._enabledQueryCache)this.queryCache={};var x=this.buildUids(t,[],v),y=this.respond(t,x);this.value=t;this.inform('query',{value:t,results:y});var z=this._normalizeString(t).flatValue;if(u||!z||this._isQueryTooShort(z)||!this.queryEndpoint||this.getQueryCache().hasOwnProperty(z)||!this.shouldFetchMoreResults(y))return false;this.inform('queryEndpoint',{value:t});this.fetch(this.queryEndpoint,this.getQueryData(t,x),{value:t,exclusions:v});return true;};s.prototype._isQueryTooShort=function(t){return (t.length<this._minQueryLength);};s.prototype._normalizeString=function(t,u){var v=t;if(this._kanaNormalization)v=n.normalizeHiragana(t);return i.parse(v,u);};s.prototype.shouldFetchMoreResults=function(t){return t.length<this._maxResults;};s.prototype.getQueryData=function(t,u){var v=j({value:t},this.queryData||{});u=u||[];if(u.length)v.existing_ids=u.join(',');if(this._bootstrapping)v.bsp=true;return v;};s.prototype.setQueryData=function(t,u){if(u)this.queryData={};j(this.queryData,t);return this;};s.prototype.setBootstrapData=function(t,u){if(u)this.bootstrapData={};j(this.bootstrapData,t);return this;};s.prototype.getExclusions=function(){return k(this._exclusions);};s.prototype.setExclusions=function(t){this._exclusions=t?t.map(String):[];};s.prototype.addFilter=function(t){var u=this._filters;u.push(t);return {remove:function(){u.splice(u.indexOf(t),1);}};};s.prototype.clearFilters=function(){this._filters=[];};s.prototype.respond=function(t,u,v){var w=this.buildData(u);this.inform('respond',{value:t,results:w,isAsync:!!v});return w;};s.prototype.fetch=function(t,u,v){if(!t)return;var w=new h().setURI(t).setData(u).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(this._acrossTransitions).setHandler(function(x){this.fetchHandler(x,v||{});}.bind(this));if(t===this.queryEndpoint)w.setFinallyHandler(function(){this._activeQueries--;if(!this._activeQueries)this.inform('activity',{activity:false});}.bind(this));w.setErrorHandler(this.asyncErrorHandler);this.inform('beforeFetch',{request:w,fetch_context:v});w.send();if(t===this.queryEndpoint){if(!this._activeQueries)this.inform('activity',{activity:true});this._activeQueries++;}};s.prototype.fetchHandler=function(t,u){var v=u.value,w=u.exclusions;if(!v&&u.replaceCache)this.localCache={};this.inform('buildQueryCache',{});var x=t.getPayload().entries;this.addEntries(x,v);this.inform('fetchComplete',{entries:x,response:t,value:v,fetch_context:u});var y=(!v&&this.value)?this.value:v;this.respond(y,this.buildUids(y,[],w),true);if(!v){if(this._bootstrapping){this._bootstrapping=false;this.inform('bootstrap',{bootstrapping:false});}if(u.token&&t.getPayload().token!==u.token)this.bootstrapWithToken();}};s.prototype.addEntries=function(t,u){var v=this.processEntries(k(t||[]),u),w=this.buildUids(u,v);if(u){var x=this.getQueryCache();x[this._normalizeString(u).flatValue]=w;}else this.fillCache(w);};s.prototype.processEntries=function(t,u){return t.map(function(v,w){var x=(v.uid=v.uid+''),y=this.getEntry(x);if(!y){y=v;y.query=u;this.setEntry(x,y);}else j(y,v);y.index===undefined&&(y.index=w);return x;},this);};s.prototype.getAllEntries=function(){return this._data||{};};s.prototype.getEntry=function(t){return this._data[t]||null;};s.prototype.setEntry=function(t,u){this._data[t]=u;};s.prototype.fillCache=function(t){var u=this.localCache;t.forEach(function(v){var w=this.getEntry(v);if(!w)return;w.bootstrapped=true;var x=this._normalizeString(this.getTextToIndex(w)).tokens;for(var y=0,z=x.length;y<z;++y){var aa=x[y];if(!u.hasOwnProperty(aa))u[aa]={};u[aa][v]=true;}},this);};s.prototype.getTextToIndex=function(t){if(t.textToIndex&&!t.needs_update)return t.textToIndex;t.needs_update=false;t.textToIndex=this.getTextToIndexFromFields(t,this._indexedFields);return t.textToIndex;};s.prototype.getTextToIndexFromFields=function(t,u){var v=[];for(var w=0;w<u.length;++w){var x=t[u[w]];if(x)v.push(x.join?x.join(' '):x);}return v.join(' ');};s.prototype.mergeUids=function(t,u,v,w){this.inform('mergeUids',{local_uids:t,query_uids:u,new_uids:v,value:w});var x=function(y,z){var aa=this.getEntry(y),ba=this.getEntry(z);if(aa.extended_match!==ba.extended_match)return aa.extended_match?1:-1;if(aa.index!==ba.index)return aa.index-ba.index;if(aa.text.length!==ba.text.length)return aa.text.length-ba.text.length;return aa.uid<ba.uid;}.bind(this);this._checkExtendedMatch(w,t);return this.deduplicateByKey(t.sort(x).concat(u,v));};s.prototype._checkExtendedMatch=function(t,u){var v=this._alwaysPrefixMatch?i.isPrefixMatch:i.isQueryMatch;for(var w=0;w<u.length;++w){var x=this.getEntry(u[w]);x.extended_match=x.tokens?!v(t,x.text):false;}};s.prototype.buildUids=function(t,u,v){if(!u)u=[];if(!t)return u;if(!v)v=[];var w=this.buildCacheResults(t,this.localCache),x=this.buildQueryResults(t),y=this.mergeUids(w,x,u,t),z=l(v.concat(this._exclusions)),aa=y.filter(function(ba){if(z.hasOwnProperty(ba)||!this.getEntry(ba))return false;for(var ca=0;ca<this._filters.length;++ca)if(!this._filters[ca](this.getEntry(ba),t))return false;return (z[ba]=true);},this);return this.uidsIncludingExact(t,aa);};s.prototype.uidsIncludingExact=function(t,u){var v=u.length;if(t.length<this._minExactMatchLength||v<=this._maxResults)return u;for(var w=0;w<v;++w){var x=this.getEntry(u[w]);x.text_lower||(x.text_lower=x.text.toLowerCase());if(x.text_lower===this._normalizeString(t).flatValue){if(w>=this._maxResults){var y=u.splice(w,1);u.splice(this._maxResults-1,0,y);}break;}}return u;};s.prototype.buildData=function(t){var u=[],v=Math.min(t.length,this._maxResults);for(var w=0;w<v;++w)u.push(this.getEntry(t[w]));return u;};s.prototype.findQueryCache=function(t){var u=0,v=null,w=this.getQueryCache();if(this._queryExactMatch)return w[t]||[];for(var x in w)if(t.indexOf(x)===0&&x.length>u){u=x.length;v=x;}return w[v]||[];};s.prototype.buildQueryResults=function(t){var u=this._normalizeString(t).flatValue,v=this.findQueryCache(u);if(this.getQueryCache().hasOwnProperty(u))return v;return this.filterQueryResults(t,v);};s.prototype.filterQueryResults=function(t,u){var v=this._alwaysPrefixMatch?i.isPrefixMatch:i.isQueryMatch;return u.filter(function(w){return v(t,this.getTextToIndex(this.getEntry(w)));},this);};s.prototype.buildCacheResults=function(t,u){var v=this._normalizeString(t,this._alwaysPrefixMatch),w=this._alwaysPrefixMatch?v.sortedTokens:v.tokens,x=w.length,y=v.isPrefixQuery?x-1:null,z={},aa={},ba={},ca=[],da=false,ea={},fa=0;for(var ga=0;ga<x;++ga){var ha=w[ga];if(!ea.hasOwnProperty(ha)){fa++;ea[ha]=true;}else continue;for(var ia in u)if((!z.hasOwnProperty(ia)&&ia===ha)||((this._alwaysPrefixMatch||y===ga)&&ia.indexOf(ha)===0)){if(ia===ha){if(aa.hasOwnProperty(ia))da=true;z[ia]=true;}else{if(z.hasOwnProperty(ia)||aa.hasOwnProperty(ia))da=true;aa[ia]=true;}for(var ja in u[ia])if(ga===0||(ba.hasOwnProperty(ja)&&ba[ja]==fa-1))ba[ja]=fa;}}for(var ka in ba)if(ba[ka]==fa)ca.push(ka);if(da||fa<x)ca=this.filterQueryResults(t,ca);if(this._titleFields&&this._titleFields.length>0)ca=this.filterNonTitleMatchQueryResults(t,ca);return ca;};s.prototype.filterNonTitleMatchQueryResults=function(t,u){return u.filter(function(v){var w=this._normalizeString(t),x=w.tokens.length;if(x===0)return true;var y=this.getTitleTerms(this.getEntry(v)),z=w.tokens[0];return ((x===1)||this._alwaysPrefixMatch)?i.isPrefixMatch(z,y):i.isQueryMatch(z,y);},this);};s.prototype.getTitleTerms=function(t){if(!t.titleToIndex)t.titleToIndex=this.getTextToIndexFromFields(t,this._titleFields);return t.titleToIndex;};s.prototype.deduplicateByKey=function(t){if(!this._deduplicationKey)return t;var u=l(t.map(this._getDeduplicationKey.bind(this)),t);return t.filter(function(v){return u[this._getDeduplicationKey(v)]==v;}.bind(this));};s.prototype._getDeduplicationKey=function(t){var u=this.getEntry(t);if(u[this._deduplicationKey]){return u[this._deduplicationKey]+'';}else return '__'+t+'__';};s.prototype.getQueryCache=function(){return this.queryCache;};s.prototype.setMaxResults=function(t){this._maxResults=t;this.value&&this.respond(this.value,this.buildUids(this.value));};s.prototype.updateToken=function(t){this.token=t;this.dirty();return this;};j(s.prototype,{events:['bootstrap','query','respond'],asyncErrorHandler:m});e.exports=s;});
__d("Typeahead",["ArbiterMixin","BehaviorsMixin","DataStore","DOM","Event","Parent","Run","emptyFunction","ge","mixin"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('BehaviorsMixin'),i=b('DataStore'),j=b('DOM'),k=b('Event'),l=b('Parent'),m=b('Run'),n=b('emptyFunction'),o=b('ge'),p=b('mixin'),q=p(g,h);for(var r in q)if(q.hasOwnProperty(r))t[r]=q[r];var s=q===null?null:q.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=q;function t(u,v,w,x){this.args={data:u,view:v,core:w};i.set(x,'Typeahead',this);this.element=x;}t.prototype.init=function(u){this.init=n;this.getCore();this.getView().setAccessibilityControlElement(this.getCore().getElement());this.proxyEvents();this.initBehaviors(u||[]);this.inform('init',this);this.data.bootstrap();this.core.focus();};t.prototype.getData=function(){if(!this.data){var u=this.args.data;this.data=u;this.data.init();}return this.data;};t.prototype.getView=function(){if(!this.view){var u=this.args.view,v=u.node||o(u.node_id);if(!v){v=j.create('div',{className:'uiTypeaheadView'});j.appendContent(this.element,v);}if(typeof u.ctor==='string'){this.view=new window[u.ctor](v,u.options||{});}else this.view=new u.ctor(v,u.options||{});this.view.init();this.view.setTypeahead(this.element);}return this.view;};t.prototype.getCore=function(){if(!this.core){var u=this.args.core;if(typeof u.ctor==='string'){this.core=new window[u.ctor](u.options||{});}else this.core=new u.ctor(u.options||{});this.core.init(this.getData(),this.getView(),this.getElement());}return this.core;};t.prototype.getElement=function(){return this.element;};t.prototype.swapData=function(u){var v=this.core;this.data=this.args.data=u;u.init();if(v){v.data=u;v.initData();v.reset();}u.bootstrap();return u;};t.prototype.proxyEvents=function(){[this.data,this.view,this.core].forEach(function(u){u.subscribe(u.events,this.inform.bind(this));},this);};t.prototype.initBehaviors=function(u){u.forEach(function(v){if(typeof v==='string'){if(a.TypeaheadBehaviors&&a.TypeaheadBehaviors[v]){a.TypeaheadBehaviors[v](this);}else m.onLoad(function(){if(a.TypeaheadBehaviors)(a.TypeaheadBehaviors[v]||n)(this);}.bind(this));}else this.enableBehavior(v);},this);};t.getInstance=function(u){var v=l.byClass(u,'uiTypeahead');return v?i.get(v,'Typeahead'):null;};t.initNow=function(u,v,w){if(w)w.init(u);u.init(v);};t.init=function(u,v,w,x){if(!j.isNodeOfType(u,['input','textarea']))u=j.scry(u,'input')[0]||j.scry(u,'textarea')[0];var y=false;try{y=document.activeElement===u;}catch(z){}if(y){t.initNow(v,w,x);}else var aa=k.listen(u,'focus',function(){t.initNow(v,w,x);aa.remove();});};e.exports=t;});
__d("StickyPlaceholderInput",["Event","CSS","DOM","Input","Parent","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('CSS'),i=b('DOM'),j=b('Input'),k=b('Parent'),l=b('emptyFunction');function m(q){return k.byClass(q,'uiStickyPlaceholderInput');}function n(q){return i.scry(q,'.placeholder')[0];}function o(q){q=q||window.event;var r=q.target||q.srcElement;if(i.isNodeOfType(r,['input','textarea'])){var s=m(r);if(s)(function(){h.conditionClass(s,'uiStickyPlaceholderEmptyInput',!r.value.length);}).defer();}}var p={init:function(){p.init=l;g.listen(document.documentElement,{keydown:o,paste:o,focusout:o});},registerInput:function(q){p.init();var r=q.getAttribute('placeholder')||'';if(r.length)if(document.activeElement===q){var s=g.listen(q,'blur',function(){p.manipulateInput(q,r);s.remove();});}else p.manipulateInput(q,r);},manipulateInput:function(q,r){var s=i.create('div',{className:'placeholder','aria-hidden':'true'},r),t=i.create('div',{className:'uiStickyPlaceholderInput'},s);if(i.isNodeOfType(q,'textarea'))h.addClass(t,'uiStickyPlaceholderTextarea');g.listen(s,'click',function(){q.focus();});if(q.value===r)q.value='';h.removeClass(q,'DOMControl_placeholder');q.setAttribute('placeholder','');i.replace(q,t);i.appendContent(t,q);h.conditionClass(t,'uiStickyPlaceholderEmptyInput',!q.value.length);},setPlaceholderText:function(q,r){var s=m(q);if(!s){j.setPlaceholder(q,r);}else{var t=n(s);t&&i.setContent(t,r);}},getPlaceholderText:function(q){var r=m(q),s=n(r);return s&&i.getText(s);},update:function(q){var r=m(q);if(r)h.conditionClass(r,'uiStickyPlaceholderEmptyInput',!q.value.length);},getVisibleText:function(q){var r=m(q);if(h.hasClass(r,'uiStickyPlaceholderEmptyInput')){var s=n(r);return s&&i.getText(s);}else return q.value;}};e.exports=p;});
__d("TypeaheadCore",["Arbiter","ArbiterMixin","CSS","DOM","Event","Focus","Input","InputSelection","Keys","StickyPlaceholderInput","UserAgent","bind","copyProperties","emptyFunction","mixin"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('CSS'),j=b('DOM'),k=b('Event'),l=b('Focus'),m=b('Input'),n=b('InputSelection'),o=b('Keys'),p=b('StickyPlaceholderInput'),q=b('UserAgent'),r=b('bind'),s=b('copyProperties'),t=b('emptyFunction'),u=b('mixin'),v=u(h);for(var w in v)if(v.hasOwnProperty(w))y[w]=v[w];var x=v===null?null:v.prototype;y.prototype=Object.create(x);y.prototype.constructor=y;y.__superConstructor__=v;function y(z){s(this,z);}y.prototype.init=function(z,aa,ba){this.init=t;this.data=z;this.view=aa;this.root=ba;this.initInput();this.inputWrap=j.find(ba,'div.wrap');this.hiddenInput=j.find(ba,'input.hiddenInput');this.value='';this.nextQuery=null;this.selectedText=null;if(this.setValueOnSelect&&i.hasClass(this.inputWrap,'selected'))this.selectedText=this.getValue();this.initView();this.initData();this.initEvents();this.initToggle();this._exclusions=[];};y.prototype.initInput=function(){this.element=j.find(this.root,'.textInput');var z=j.scry(this.element,'input')[0];if(z)this.element=z;};y.prototype.initView=function(){this.view.subscribe('highlight',l.set.curry(this.element));this.view.subscribe('select',function(z,aa){this.select(aa.selected);}.bind(this));this.view.subscribe('afterSelect',function(){this.afterSelect();}.bind(this));};y.prototype.initData=function(){this.data.subscribe('respond',function(z,aa){if(aa.forceDisplay||aa.value==this.getValue()&&!this.element.disabled)this.view.render(aa.value,aa.results,aa.isAsync);}.bind(this));this.data.subscribe('activity',function(z,aa){this.fetching=aa.activity;if(!this.fetching)this.nextQuery&&this.performQuery();if(this.loading!=this.fetching){this.loading=this.fetching;this.inform('loading',{loading:this.loading});}}.bind(this));};y.prototype.initEvents=function(){k.listen(this.view.getElement(),{mouseup:this.viewMouseup.bind(this),mousedown:this.viewMousedown.bind(this)});var z={blur:r(this,'blur'),focus:r(this,'focus'),click:r(this,'click'),keyup:r(this,'keyup'),keydown:r(this,'keydown')};if(q.firefox())z.text=z.keyup;if(q.firefox()<4){z.keypress=z.keydown;delete z.keydown;}k.listen(this.element,z);k.listen(this.element,'keypress',r(this,'keypress'));};y.prototype.initToggle=function(){this.subscribe('blur',this.view.hide.bind(this.view));this.subscribe('focus',this.view.show.bind(this.view));};y.prototype.viewMousedown=function(){this.selecting=true;};y.prototype.viewMouseup=function(){this.selecting=false;};y.prototype.blur=function(){if(this.selecting){this.selecting=false;return;}this.inform('blur');};y.prototype.click=function(){var z=n.get(this.element);if(z.start==z.end)this.element.select();this.inform('click');};y.prototype.focus=function(){this.checkValue();this.inform('focus');};y.prototype.keyup=function(){if(this.resetOnKeyup&&!this.getValue())this.view.reset();this.checkValue();if(this.getValue().length===0)this.inform('change',null);};y.prototype.keydown=function(event){if(!this.view.isVisible()||this.view.isEmpty()){this.checkValue.bind(this).defer();return;}switch(k.getKeyCode(event)){case o.TAB:this.handleTab(event);return;case o.UP:this.view.prev();break;case o.DOWN:this.view.next();break;case o.ESC:this.view.reset();break;default:this.checkValue.bind(this).defer();return;}event.kill();};y.prototype.keypress=function(event){if(this.view.getSelection()&&k.getKeyCode(event)==o.RETURN){this.view.select();event.kill();}};y.prototype.handleTab=function(event){if(this.preventFocusChangeOnTab)if(this.view.getSelection()){event.kill();}else event.prevent();this.view.select();};y.prototype.select=function(z){if(z&&this.setValueOnSelect){this.setValue(z.text);this.setHiddenValue(z.uid);this.selectedText=z.text;i.addClass(this.inputWrap,'selected');}};y.prototype.afterSelect=function(){this.keepFocused?l.set(this.element):this.element.blur();this.resetOnSelect?this.reset():this.view.reset();};y.prototype.unselect=function(){if(this.setValueOnSelect){this.selectedText=null;i.removeClass(this.inputWrap,'selected');}this.setHiddenValue();this.inform('unselect',this);};y.prototype.setEnabled=function(z){var aa=z===false;this.element.disabled=aa;i.conditionClass(this.root,'uiTypeaheadDisabled',aa);};y.prototype.reset=function(){this.unselect();this.setValue();!this.keepFocused&&m.reset(this.element);this.view.reset();this.inform('reset');};y.prototype.getElement=function(){return this.element;};y.prototype.setExclusions=function(z){this._exclusions=z.map(String);};y.prototype.getExclusions=function(){return this._exclusions;};y.prototype.setValue=function(z){this.value=this.nextQuery=z||'';m.setValue(this.element,this.value);p.update(this.element);this.inform('change',z);};y.prototype.setHiddenValue=function(z){this.hiddenInput.value=(z||z===0)?z:'';g.inform('Form/change',{node:this.hiddenInput});};y.prototype.getValue=function(){return m.getValue(this.element);};y.prototype.getHiddenValue=function(){return this.hiddenInput.value||'';};y.prototype.checkValue=function(){var z=this.getValue();if(z==this.value)return;if(this.selectedText&&this.selectedText!=z)this.unselect();var aa=Date.now(),ba=aa-this.time;this.time=aa;this.value=this.nextQuery=z;this.performQuery(ba);};y.prototype.performQuery=function(z){if(this.selectedText)return;z=z||0;if(this.fetching&&z<this.queryTimeout){this.data.query(this.nextQuery,true,this._exclusions,z);}else{this.data.query(this.nextQuery,false,this._exclusions,z);this.nextQuery=null;}};s(y.prototype,{events:['blur','focus','click','unselect','loading'],keepFocused:true,resetOnSelect:false,resetOnKeyup:true,setValueOnSelect:false,queryTimeout:250,preventFocusChangeOnTab:false});e.exports=y;});
__d("PluginResize",["Log","UnverifiedXD","copyProperties"],function(a,b,c,d,e,f){var g=b('Log'),h=b('UnverifiedXD'),i=b('copyProperties');function j(m){m=m||document.body;return m.offsetWidth+m.offsetLeft;}function k(m){m=m||document.body;return m.offsetHeight+m.offsetTop;}function l(m,n,event,o){this.calcWidth=m||j;this.calcHeight=n||k;this.width=undefined;this.height=undefined;this.reposition=!!o;this.event=event||'resize';}i(l.prototype,{resize:function(){var m=this.calcWidth(),n=this.calcHeight();if(m!==this.width||n!==this.height){g.debug('Resizing Plugin: (%s, %s, %s, %s)',m,n,this.event,this.reposition);this.width=m;this.height=n;h.send({type:this.event,width:m,height:n,reposition:this.reposition});}return this;},auto:function(m){setInterval(this.resize.bind(this),m||250);return this;}});l.auto=function(m,event,n){return new l(j.bind(null,m),k.bind(null,m),event).resize().auto(n);};l.autoHeight=function(m,n,event,o){return new l(function(){return m;},k.bind(null,n),event).resize().auto(o);};e.exports=l;});
__d("PluginFlyoutDialog",["Arbiter","DOMDimensions","DOMEvent","DOMEventListener","DOMPosition","DOMQuery","PluginFlyout","PluginResize","copyProperties"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('DOMDimensions'),i=b('DOMEvent'),j=b('DOMEventListener'),k=b('DOMPosition'),l=b('DOMQuery'),m=b('PluginFlyout'),n=b('PluginResize'),o=b('copyProperties');function p(q,r,s){this.parent=new m(q,r,s);this.flyout=q;g.subscribe(m.SHOW,this.show.bind(this),g.SUBSCRIBE_NEW);}o(p.prototype,{show:function(){if(this.subscribed)return;this.subscribed=1;var q=window.PluginAsyncLoader;q&&q.ondemandjs&&q.run(q.ondemandjs);j.add(this.flyout.parentNode,'click',(function(u){u=new i(u);if(u.target===this.flyout.parentNode){u.kill();this.parent.hide();}}).bind(this));var r=this.flyout,s=l.find(document.body,'.pluginConnectButtonLayoutRoot');function t(){return l.scry(document.body,'.uiTypeaheadView').map(function(u){var v=k.getElementPosition(u),w=h.getElementDimensions(u);return {x:v.x+w.width,y:v.y+w.height};});}new n(function(){return Math.max(s.offsetWidth,r.offsetWidth,t().map(function(u){return u.x;}));},function(){return Math.max(s.offsetHeight,r.offsetHeight+r.offsetTop,t().map(function(u){return u.y;}));},'resize.iframe',true).resize().auto();}});e.exports=p;});
__d("PluginLayout",["Arbiter","PluginResize","PluginFlyout","Style"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('PluginResize'),i=b('PluginFlyout'),j=b('Style');function k(l,m,n){if(m)j.set(l,'width',m+'px');var o=new h(function(){return m||l.offsetWidth;},function(){return l.offsetHeight;},'resize.flow').resize().auto();g.subscribe([i.HIDE],o.resize.bind(o),g.SUBSCRIBE_NEW);}e.exports=k;});
__d("TypeaheadBestName",["TokenizeUtil","copyProperties"],function(a,b,c,d,e,f){var g=b('TokenizeUtil'),h=b('copyProperties');function i(j){this._typeahead=j;}i.prototype.enable=function(){var j=this._typeahead.getView();this._subscription=j.subscribe('beforeRender',function(k,l){var m=l.value;for(var n=0;n<l.results.length;++n){var o=l.results[n];if(o.alternate_names==null)continue;if(g.isQueryMatch(m,o.default_name)){o.text=o.default_name;return;}for(var p=0;p<o.alternate_names.length;p++)if(g.isQueryMatch(m,o.alternate_names[p])){o.text=o.alternate_names[p];return;}o.text=o.default_name;}});};i.prototype.disable=function(){this._typeahead.getView().unsubscribe(this._subscription);this._subscription=null;};h(i.prototype,{_subscription:null});e.exports=i;});
__d("legacy:BestNameTypeaheadBehavior",["TypeaheadBestName"],function(a,b,c,d){var e=b('TypeaheadBestName');if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.buildBestAvailableNames=function(f){f.enableBehavior(e);};},3);
__d("MentionsInputMatchers",[],function(a,b,c,d,e,f){var g=['@','\\uff20'].join(''),h='.,+*?$|#{}()\\^\\-\\[\\]\\\\\/!%&\'"~=<>_:;',i='\\b[A-Z][^ A-Z'+h+']',j='([^'+g+h+']|['+h+'][^ '+h+'])',k='(?:^|\\s)(?:['+g+']('+j+'{0,20}))',l='(?:(?:^|[^#])('+i+'+)|'+k+')',m='(?:'+i+'{4,})',n='#\\uFF03',o={trigger:new RegExp('['+g+']$'),hashtagTrigger:new RegExp('['+n+']'),mainMatcher:new RegExp(k+'$'),autoMatcher:new RegExp(l+'$'),userMatcher:new RegExp(m+'$')};e.exports=o;});
__d("MentionsInput",["function-extensions","Arbiter","ArbiterMixin","Bootloader","CSS","DataStore","DOM","Event","HTML","Input","InputSelection","Keys","MentionsInputMatchers","Parent","Style","TokenizeUtil","UserAgent","htmlize","mixin","removeFromArray","repeatString"],function(a,b,c,d,e,f){b('function-extensions');var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('Bootloader'),j=b('CSS'),k=b('DataStore'),l=b('DOM'),m=b('Event'),n=b('HTML'),o=b('Input'),p=b('InputSelection'),q=b('Keys'),r=b('MentionsInputMatchers'),s=b('Parent'),t=b('Style'),u=b('TokenizeUtil'),v=b('UserAgent'),w=b('htmlize'),x=b('mixin'),y=b('removeFromArray'),z=b('repeatString'),aa='\uFEFF',ba=new RegExp(aa,'g'),ca=function(ma){return ma+aa;},da='\uFFFD',ea=/@+\[[0-9]+\:([^\]]|\\\])*\]+/g,fa=/[\\\]:]/g;function ga(ma,na){return ma.replace(na,z(' ',na.length));}function ha(ma,na){return ma.substring(0,na)+ma.substring(na+1);}var ia=x(h);for(var ja in ia)if(ia.hasOwnProperty(ja))la[ja]=ia[ja];var ka=ia===null?null:ia.prototype;la.prototype=Object.create(ka);la.prototype.constructor=la;la.__superConstructor__=ia;function la(ma,na,oa,pa,qa,ra){k.set(ma,'MentionsInput',this);this._root=ma;this._typeahead=na;this._input=oa;var sa=null,ta=this.init.bind(this,pa,qa,ra);try{sa=document.activeElement===this._input;}catch(ua){}if(sa){ta.defer();}else var va=m.listen(this._input,'focus',function(){ta.defer();va.remove();});this._hasHashtags=pa.hashtags;this._autoSuggestPages=pa.autosuggest_pages;this._hashtags=[];}la.prototype.init=function(ma,na,oa){if(this._initialized)return;this._initialized=true;this._highlighter=l.find(this._root,'.highlighter');this._highlighterInner=this._highlighter.firstChild;this._highlighterContent=l.find(this._root,'.highlighterContent');this._hiddenInput=l.find(this._root,'.mentionsHidden');this._placeholder=this._input.getAttribute('placeholder')||'';this._maxMentions=ma.max||6;this._metrics=oa;if(!this._hiddenInput.name){var pa=this._input.name;this._input.name=pa+'_text';this._hiddenInput.name=pa;}this._initEvents();this._initTypeahead();this.reset(na);this.inform('init',null,g.BEHAVIOR_STATE);};la.prototype.reset=function(ma){if(!this._initialized)return;this._mentioned={};this._orderedUIDs=[];this._numMentioned=0;this._filterData=null;this._hiddenInput&&(this._hiddenInput.value='');this._highlighterContent&&l.empty(this._highlighterContent);this._highlighterAuxContent&&l.remove(this._highlighterAuxContent);this._highlighterAuxContent=null;o.setPlaceholder(this._input,this._placeholder);t.set(this._typeahead.getElement(),'height','auto');var na=ma&&ma.value||'',oa=ma&&ma.mentions;if(oa&&oa.length){var pa=[];oa.forEach(function(qa){pa.push(qa.offset+qa.length);delete qa.offset;delete qa.length;this._addToken(qa);},this);pa.reverse().forEach(function(qa){na=na.substring(0,qa)+aa+na.substring(qa);});}o.setValue(this._input,na);this._updateTypeahead();this._updateWidth();this._update();};la.prototype.getValue=function(){return this._getMarkedValue().replace(ba,'');};la.prototype._getMarkedValue=function(){return o.getValue(this._input);};la.prototype.getRawValue=function(){this._update();return o.getValue(this._hiddenInput);};la.prototype.checkValue=function(){var ma=this._typeahead.getCore().getValue();if(r.trigger.exec(ma)||ma==='')this.inform('sessionEnd',{});};la.prototype.getTypeahead=function(){return this._typeahead;};la.prototype._initEvents=function(){var ma=this._update.bind(this);m.listen(this._input,{input:ma,keyup:ma,change:ma,blur:this._handleBlur.bind(this),focus:this._handleFocus.bind(this),keydown:this._handleKeydown.bind(this)});if(this._metrics){this._metrics._reset();this._metrics.bindSessionStart(this._typeahead,'render',true);this._metrics.bindSessionEnd(this._typeahead.getView(),'select',true);this._metrics.bindSessionEnd(this,'sessionEnd',false);m.listen(this._input,'keyup',function(event){this.checkValue.bind(this).defer();}.bind(this));}};la.prototype._initTypeahead=function(){this._typeahead.subscribe('select',function(ra,sa){var ta=sa.selected;this._addToken({uid:ta.uid,text:ta.text,type:ta.type,weakreference:ta.weak_reference});this.updateValue();}.bind(this));var ma=this._input,na=null;function oa(){if(na===null){na=o.getSubmitOnEnter(ma);o.setSubmitOnEnter(ma,false);}}function pa(){if(na!==null){o.setSubmitOnEnter(ma,na);na=null;}}this._typeahead.subscribe('reset',pa);this._typeahead.subscribe('render',oa);this._typeahead.subscribe('highlight',function(ra,sa){sa.index>=0?oa():pa();});this._typeahead.subscribe('query',function(){this._filterData=null;}.bind(this));var qa=this._typeahead.getCore();qa.suffix=aa;this._handleFocus();};la.prototype._handleBlur=function(){if(this._filterToken){this._filterToken.remove();this._filterToken=null;}};la.prototype._handleFocus=function(){if(!this._filterToken)this._filterToken=this._typeahead.getData().addFilter(this._filterResults.bind(this));this._updateWidth();};la.prototype._handleKeydown=function(event){var ma=event.keyCode;if(ma==q.BACKSPACE||ma==q.DELETE)this._handleBackspaceAndDelete(event,ma);if(ma==q.LEFT||ma==q.RIGHT)setTimeout(this._handleLeftAndRight.bind(this,ma),10);};la.prototype._handleLeftAndRight=function(ma){var na=this._getMarkedValue(),oa=p.get(this._input),pa=oa.start,qa=oa.end,ra=ma==q.LEFT,sa=ma==q.RIGHT;if(pa==qa){var ta=ra?-1:1;if(na.charAt(pa)==aa)p.set(this._input,pa+ta);}else if(ra&&na.charAt(pa)==aa){p.set(this._input,pa-1,qa);}else if(ra&&na.charAt(qa)==aa){p.set(this._input,pa,qa-1);}else if(sa&&na.charAt(qa)==aa){p.set(this._input,pa,qa+1);}else if(sa&&na.charAt(pa)==aa)p.set(this._input,pa+1,qa);};la.prototype._handleBackspaceAndDelete=function(event,ma){var na=p.get(this._input),oa=false;if(na.start!==na.end)if(this._offsetIsInsideMention(na.start+1)&&this._offsetIsInsideMention(na.end)){oa=(ma===q.BACKSPACE);}else return;var pa=ma===q.DELETE?1:-1,qa=pa+(oa?na.end:na.start),ra=this._getMarkedValue(),sa=ra;for(var ta=0;ta<this._orderedUIDs.length;++ta){var ua=this._mentioned[this._orderedUIDs[ta]],va=ua.text,wa=ca(va),xa=sa.indexOf(wa),ya=xa+wa.length;if(qa<xa||qa>=ya){sa=ga(sa,wa);continue;}var za,ab;if(ua.type!='user'){za=0;ab=[va];}else{za=wa.substring(0,qa-xa).split(' ').length-1;ab=va.split(' ');}var bb=ab.splice(za,1)[0],cb=ab.join(' '),db=za===0?xa:ya-bb.length-1;if(cb){ua.text=cb;cb=ca(cb);}else this._removeToken(ua.uid);var eb=ra.substring(0,xa)+cb+ra.substring(ya);o.setValue(this._input,eb);p.set(this._input,db);this._update();event.kill();break;}};la.prototype._offsetIsInsideMention=function(ma){for(var na=0;na<this._offsets.length;na++)if(ma>this._offsets[na][0]&&ma<=this._offsets[na][1])return true;return false;};la.prototype._filterResults=function(ma){if(this._filterData===null){var na=p.get(this._input).start;if(this._offsetIsInsideMention(na)){this._filterData={caretIsInsideMention:true};return false;}var oa=this._typeahead.getCore();this._filterData={value:oa.getValue(),rawValue:oa.getRawValue()};}if(this._filterData.caretIsInsideMention)return false;if(r.mainMatcher.test(this._filterData.rawValue))return true;if(ma.type!='user'&&!this._shouldIncludeNonUserItem(ma))return false;if(ma.disable_autosuggest)return false;if(r.userMatcher.test(this._filterData.value))return true;return u.isExactMatch(this._filterData.value,this._typeahead.getData().getTextToIndex(ma));};la.prototype._shouldIncludeNonUserItem=function(ma){if(this._autoSuggestPages!='false'&&ma.connected_page)return true;if(this._autoSuggestPages=='include_authoritative'&&ma.is_authoritative_person)return true;return false;};la.prototype._addToken=function(ma){var na=ma.uid;if(!this._mentioned.hasOwnProperty(na)){this._mentioned[na]=ma;this._orderedUIDs.push(na);this._numMentioned++;this._updateTypeahead();}};la.prototype._removeToken=function(ma){if(this._mentioned.hasOwnProperty(ma)){delete this._mentioned[ma];y(this._orderedUIDs,ma);this._numMentioned--;this._updateTypeahead();}};la.prototype._update=function(){var ma=this._getMarkedValue();if(ma==this._value)return;this._value=ma;this._updateMentions();this._updateDirection.bind(this).defer();this.updateValue();};la.prototype._updateMentions=function(){this._offsets=[];var ma=this._getMarkedValue(),na=ma;for(var oa=0;oa<this._orderedUIDs.length;++oa){var pa=this._orderedUIDs[oa],qa=ca(this._mentioned[pa].text),ra=na.indexOf(qa);if(ra==-1)this._removeToken(pa);na=ga(na,qa);this._offsets.push([ra,ra+qa.length]);}var sa=ma;while((ra=na.indexOf(aa))>-1){sa=ha(sa,ra);na=ha(na,ra);}if(ma!==sa){var ta=p.get(this._input);o.setValue(this._input,sa);p.set(this._input,ta.start);this._value=sa;}};la.prototype._renderHashtags=function(ma){if(!this._hasHashtags)return w(ma);if(!this._hashtagParser){if(r.hashtagTrigger.exec(ma))this.bootloadHashtagParser();if(!this._hashtagParser)return w(ma);}this._hashtags=this._hashtagParser.parse(ma);var na=[],oa=0;for(var pa=0;pa<this._hashtags.length;pa++){var qa=this._hashtags[pa];na.push(w(ma.substring(oa,qa.rawOffset)),'<b>',qa.marker,qa.tag,'</b>');oa=qa.rawOffset+qa.marker.length+qa.tag.length;}na.push(w(ma.substring(oa)));return na.join('');};la.prototype.updateValue=function(){var ma=this._value=this._getMarkedValue(),na=this._orderedUIDs,oa=ma.replace(ea,da);for(var pa=0;pa<na.length;++pa){var qa='@['+na[pa]+':]',ra=ca(this._mentioned[na[pa]].text);oa=oa.replace(ra,qa);ma=ma.replace(ra,qa);}var sa=this._renderHashtags(ma);for(var pa=0;pa<na.length;++pa){var ta=na[pa],ua=this._mentioned[ta],va=ua.text,wa=ua.weakreference?'<b class="weak">':'<b>';sa=sa.replace('@['+ta+':]',wa+w(ca(va))+'</b>');va=va.replace(fa,function(xa){return '\\'+xa;});oa=oa.replace('@['+ta+':]','@['+ta+':'+va+']');}if(v.ie())sa=sa.replace(/ /g,'&nbsp;<wbr/>');l.setContent(this._highlighterContent,n(sa));this._hiddenInput.value=oa;this._updateHighlighter();this._updateHeight();};la.prototype._updateDirection=function(){var ma=t.get(this._input,'direction');if(ma==this._dir)return;this._dir=ma;t.set(this._highlighter,'direction',ma);if(ma=='rtl'){t.set(this._highlighter,'text-align','right');}else t.set(this._highlighter,'text-align','left');};la.prototype._updateWidth=function(){var ma=t.getFloat.curry(this._input),na=this._input.offsetWidth-ma('paddingLeft')-ma('paddingRight')-ma('borderLeftWidth')-ma('borderRightWidth');if(v.firefox())na-=2;if(v.ie()<=7){na-=t.getFloat(this._highlighterInner,'paddingLeft');this._highlighter.style.zoom=1;}this._highlighterInner.style.width=Math.max(na,0)+'px';};la.prototype._updateHeight=function(){if(this._highlighterAuxContent){var ma=this._highlighter.offsetHeight,na=this._typeahead.getElement();if(ma>na.offsetHeight){t.set(na,'height',ma+'px');g.inform('reflow');}}};la.prototype._updateTypeahead=function(){var ma=this._typeahead.getCore(),na=null;if(!this._maxMentions||this._numMentioned<this._maxMentions)na=r.autoMatcher;ma.matcher=na;ma.setExclusions(this._orderedUIDs);this.inform('update',{mentioned:this._mentioned});};la.prototype.setPlaceholder=function(ma){this._placeholder=ma;if(!this.hasAuxContent())o.setPlaceholder(this._input,ma);};la.prototype._updateHighlighter=function(){if(this._highlighterContent)j.conditionShow(this._highlighterContent,this._numMentioned>0||this.hasAuxContent()||this._hashtags.length);};la.prototype.setAuxContent=function(ma){if(this._highlighterContent){if(!this._highlighterAuxContent){this._highlighterAuxContent=l.create('span',{className:'highlighterAuxContent'});l.insertAfter(this._highlighterContent,this._highlighterAuxContent);}l.setContent(this._highlighterAuxContent,ma);if(ma){o.setPlaceholder(this._input,'');}else o.setPlaceholder(this._input,this._placeholder);this._updateHighlighter();this._updateHeight();}};la.prototype.hasAuxContent=function(){var ma=this.getAuxContentRoot();return ma&&ma.innerHTML.length>0;};la.prototype.getAuxContentRoot=function(){return this._highlighterAuxContent;};la.prototype.addMention=function(ma){var na=this._getMarkedValue();if(na!=='')na+=' ';o.setValue(this._input,na+ca(ma.text)+' ');this._addToken(ma);this._update();};la.prototype.getMentions=function(){return this._mentioned;};la.prototype.bootloadHashtagParser=function(){if(!this._hashtagParser)i.loadModules(['HashtagParser'],function(ma){this._hashtagParser=ma;if(this._initialized){this._value=null;this._update();}}.bind(this));};la.getInstance=function(ma){var na=s.byClass(ma,'uiMentionsInput');return na?k.get(na,'MentionsInput'):null;};e.exports=la;});
__d("legacy:MentionsInput",["MentionsInput"],function(a,b,c,d){a.MentionsInput=b('MentionsInput');},3);
__d("TypeaheadAreaCore",["InputSelection","TypeaheadCore","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('InputSelection'),h=b('TypeaheadCore'),i=b('copyProperties'),j=b('emptyFunction');for(var k in h)if(h.hasOwnProperty(k))m[k]=h[k];var l=h===null?null:h.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=h;function m(n){h.call(this,n);this.matcher=new RegExp(this.matcher+'$');this.preventFocusChangeOnTab=true;}m.prototype.select=function(n){l.select.call(this,n);var o=this.element.value,p=this.prefix+n.text+this.suffix;this.expandBounds(o,p);var q=o.substring(0,this.start),r=o.substring(this.end);this.element.value=q+p+r;g.set(this.element,q.length+p.length);};m.prototype.expandBounds=function(n,o){n=n.toLowerCase();o=o.toLowerCase();var p,q,r,s,t=/\s/;q=n.substring(this.start,this.end);r=o.indexOf(q);p=this.start;while(p>=0&&r>=0){s=n.charAt(p-1);if(!s||t.test(s))this.start=p;q=s+q;r=o.indexOf(q);p--;}q=n.substring(this.start,this.end);r=o.indexOf(q);p=this.end;while(p<=n.length&&r>=0){s=n.charAt(p);if(!s||t.test(s))this.end=p;q=q+s;r=o.indexOf(q);p++;}};m.prototype.getRawValue=function(){var n=g.get(this.element).start||0;return l.getValue.call(this).substring(0,n);};m.prototype.getValue=function(){var n=this.matcher&&this.matcher.exec(this.getRawValue());if(!n)return '';var o=n[0],p=n.index+o.length;o=o.replace(/^\s/,'');var q=o.length;o=o.replace(/\s$/,'');var r=q-o.length;this.start=p-q;this.end=p+r;return n[2]||n[1]||n[0];};i(m.prototype,{prefix:'',suffix:', ',matcher:"\\b[^,]*",click:j});e.exports=m;});
__d("TypeaheadMetrics",["AsyncRequest","Event","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('Event'),i=b('copyProperties'),j=b('emptyFunction');function k(l){this.extraData={};i(this,l);}k.prototype.init=function(l){this.init=j;this.core=l.getCore();this.view=l.getView();this.data=l.getData();this.stats={};this.sessionActive=false;this._sessionStartEvents=[];this._sessionEndEvents=[];this._reset();this.initEvents();};k.prototype._reset=function(){this.stats={};this.avgStats={};this.sessionActive=false;this.results=null;this.sid=Math.floor(Date.now()*Math.random());this.data.setQueryData({sid:this.sid});};k.prototype.recordSelect=function(l){var m=l.selected;if(m.uid==null){this.recordStat('selected_id','SELECT_NULL');}else this.recordStat('selected_id',m.uid);this.recordStat('selected_type',m.type);this.recordStat('selected_position',l.index);this.recordStat('selected_with_mouse',l.clicked?1:0);this.recordStat('selected_query',l.query);this._sessionEnd();};k.prototype.bindSessionStart=function(l,event,m){if(m)for(var n=0;n<this._sessionStartEvents.length;++n){var o=this._sessionStartEvents[n];o.obj.unsubscribe(o.token);}this._sessionStartEvents.push({obj:l,token:l.subscribe(event,function(p,q){this._sessionStart();}.bind(this))});};k.prototype.bindSessionEnd=function(l,event,m){if(m)for(var n=0;n<this._sessionEndEvents.length;++n){var o=this._sessionEndEvents[n];o.obj.unsubscribe(o.token);}this._sessionEndEvents.push({obj:l,token:l.subscribe(event,function(p,q){this._sessionEnd();}.bind(this))});};k.prototype.initEvents=function(){this.bindSessionStart(this.core,'focus',false);this.bindSessionEnd(this.core,'blur',false);this.view.subscribe('select',function(l,m){this.recordSelect(m);}.bind(this));this.bindSessionEnd(this.view,'select',false);this.view.subscribe('render',function(l,m){this.results=m;}.bind(this));this.data.subscribe('beforeQuery',function(l,m){if(!m.value)return;this.query=m.value;this.recordCountStat('num_queries');}.bind(this));this.data.subscribe('beforeFetch',function(l,m){if(m.fetch_context.bootstrap){this.bootstrapBegin=Date.now();}else m.fetch_context.queryBegin=Date.now();}.bind(this));this.data.subscribe('fetchComplete',function(l,m){if(m.fetch_context.bootstrap){this.recordAvgStat('bootstrap_latency',Date.now()-this.bootstrapBegin);var n={};m.response.payload.entries.forEach(function(o){if(!n[o.type]){n[o.type]=1;}else n[o.type]++;});this.recordStat('bootstrap_response_types',n);this.bootstrapped=true;}else{if('filtered_count' in m.response.payload)this.recordStat('filtered_count',m.response.payload.filtered_count);this.recordAvgStat('avg_query_latency',Date.now()-m.fetch_context.queryBegin);}}.bind(this));this.data.subscribe('dirty',function(l,m){this.bootstrapped=false;}.bind(this));};k.prototype._sessionStart=function(){if(this.sessionActive)return;this.sessionActive=true;};k.prototype._sessionEnd=function(){if(!this.sessionActive)return;this.sessionActive=false;this.submit();this._reset();};k.prototype.recordStat=function(l,m){this.stats[l]=m;};k.prototype.recordCountStat=function(l){var m=this.stats[l];this.stats[l]=m?m+1:1;};k.prototype.recordAvgStat=function(l,m){if(this.avgStats[l]){this.avgStats[l][0]+=m;++this.avgStats[l][1];}else this.avgStats[l]=[m,1];};k.prototype.hasStats=function(){return !!Object.keys(this.stats).length;};k.prototype.submit=function(){if(this.hasStats()){i(this.stats,this.extraData);if(this.results){var l=(this.results).map(function(o,p){return o.uid;});this.recordStat('candidate_results',JSON.stringify(l));}if(this.query)this.recordStat('query',this.query);if(this.sid)this.recordStat('sid',this.sid);if(this.bootstrapped)this.recordStat('bootstrapped',1);for(var m in this.avgStats){var n=this.avgStats[m];this.stats[m]=n[0]/n[1];}new g().setURI(this.endPoint).setMethod('POST').setData({stats:this.stats}).send();this._reset();}};k.register=function(l,m,n){if(document.activeElement===l){m.init(n);}else var o=h.listen(l,'focus',function(){m.init(n);o.remove();});};i(k.prototype,{endPoint:'/ajax/typeahead/record_basic_metrics.php'});e.exports=k;});
__d("TypeaheadHoistFriends",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(i){this._typeahead=i;}h.prototype.enable=function(){var i=this._typeahead.getView();this._subscription=i.subscribe('beforeRender',function(j,k){var l=[],m=[],n=[];for(var o=0;o<k.results.length;++o){var p=k.results[o];if(p.type=='header'){n=n.concat(m,l);n.push(p);m=[];l=[];}else if(p.type=='user'&&p.bootstrapped){m.push(p);}else l.push(p);}k.results=n.concat(m,l);});};h.prototype.disable=function(){this._typeahead.getView().unsubscribe(this._subscription);this._subscription=null;};g(h.prototype,{_subscription:null});e.exports=h;});
__d("legacy:HoistFriendsTypeaheadBehavior",["TypeaheadHoistFriends"],function(a,b,c,d){var e=b('TypeaheadHoistFriends');if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.hoistFriends=function(f){f.enableBehavior(e);};},3);
__d("CompactTypeaheadRenderer",["BadgeHelper","DOM","TypeaheadFacepile"],function(a,b,c,d,e,f){var g=b('BadgeHelper'),h=b('DOM'),i=b('TypeaheadFacepile');function j(k,l){var m=[];if(k.xhp)return h.create('li',{className:'raw'},k.xhp);var n=k.photos||k.photo;if(n){if(n instanceof Array){n=i.render(n);}else n=h.create('img',{alt:'',src:n});m.push(n);}if(k.text){var o=[k.text];if(k.verified)o.push(g.renderBadge('xsmall','verified'));m.push(h.create('span',{className:'text'},o));}var p=k.subtext,q=k.category;if(p||q){var r=[];p&&r.push(p);p&&q&&r.push(" \u00b7 ");q&&r.push(q);m.push(h.create('span',{className:'subtext'},r));}var s=h.create('li',{className:k.type||''},m);if(k.text)s.setAttribute('aria-label',k.text);return s;}j.className='compact';e.exports=j;});